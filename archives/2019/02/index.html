<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Archives: 2019/2 | Brian&#39;s Blog</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="Meow">
<meta property="og:type" content="website">
<meta property="og:title" content="Brian's Blog">
<meta property="og:url" content="https://blog.ohai.ca/archives/2019/02/index.html">
<meta property="og:site_name" content="Brian's Blog">
<meta property="og:description" content="Meow">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Brian's Blog">
<meta name="twitter:description" content="Meow">
  
    <link rel="alternative" href="/atom.xml" title="Brian&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="../../../css/style.css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/">Brian&#39;s Blog</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			<li><a href="/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.ohai.ca"></form>
	</div>
</header>
    <div id="main">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/AWS/">AWS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Access/">Access</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Accessibility/">Accessibility</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Android/">Android</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Apple/">Apple</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Business/">Business</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Career/">Career</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Cars/">Cars</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Chemistry/">Chemistry</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Firearms/">Firearms</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/General/">General</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/JavaScript/">JavaScript</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Learning/">Learning</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Lifestyle/">Lifestyle</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Linguistics/">Linguistics</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Linux/">Linux</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Machine-Learning/">Machine Learning</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Mathematics/">Mathematics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Meta/">Meta</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Pokemon/">Pokemon</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Psychology/">Psychology</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/PyCon/">PyCon</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Python/">Python</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/QA/">QA</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Recipes/">Recipes</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/SQL/">SQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Security/">Security</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Software-Development/">Software Development</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Startups/">Startups</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Travel/">Travel</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Tumblr/">Tumblr</a><span class="tag-list-count">4</span></li></ul>

  
    <article id="post-How-to-install-nodejs" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/How-to-install-nodejs/" class="article-date">
  <time datetime="2019-02-28T17:31:46.000Z" itemprop="datePublished">2019-02-28</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/How-to-install-nodejs/">How to Install Node.js</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>tl;dr: don’t install nodejs.</p>
<p>Here at Maymay Research Institute (MRI), we make things with JavaScript.</p>
<p>To run JavaScript outside a browser, chances are you will need something called <a href="https://nodejs.org/en/" target="_blank" rel="external">Node.js</a>.</p>
<p><a href="https://github.com/nodejs/node/pulls?q=is%3Apr+is%3Aclosed" target="_blank" rel="external">A change is made to Node.js every other day</a>, so as are the binaries. We joke that node and npm should simply be named after the unix timestamp.</p>
<pre><code>A: we should just version js packages by unix timestamp, because 
   there&apos;s a new one every other second
B: That would solve it.
A: that would actually work
A: `npm@1550873940.0.0  // because every change is breaking anyway, this is semver-compliant`
B: Oh my
</code></pre><p>While that was largely a joke, it is not far from the truth, and having so many versions of node and npm can cause problems on developer machines, namely this code review comment (paraphrased):</p>
<blockquote>
<p>There are packages that are built for each particular node distribution (node-sass for example), so when you and I (run) “yarn or npm install” (it will install) different binaries of the same package. … This leads to “On my computer (it) works” problems. (We) should manually enforce the version, and (upgrade) every once in a while if a new LTS version is available (…).</p>
</blockquote>
<p>The comment highlights the importance for all developers to run the exact same version of node and npm for a project. But how do we achieve that?</p>
<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><p>You can’t just throw everything at Docker, <del>man</del>person.</p>
<h2 id="nvm-use-specific-version"><a href="#nvm-use-specific-version" class="headerlink" title="nvm use ${specific version}"></a><code>nvm use ${specific version}</code></h2><p>The team can pin node to a specific version (and therefore the version of npm, as well). They do so by running</p>
<pre><code>nvm use v10.15.2
</code></pre><p>Normally I would call it a day, since <code>v10</code> would have been good enough for me, but since “This leads to “On my computer (it) works” problems”, we are going to have to pin it down.</p>
<h2 id="Where-do-these-node-versions-come-from"><a href="#Where-do-these-node-versions-come-from" class="headerlink" title="Where do these node versions come from?"></a>Where do these node versions come from?</h2><p>Nodejs has <a href="https://github.com/nodejs/node" target="_blank" rel="external">its own repository on GitHub</a>, but they don’t provide binaries there. Instead, according to the command that <code>nvm</code> runs:</p>
<pre><code>bash -c &quot;NVM_DIR=$HOME/.nvm &amp;&amp; source $NVM_DIR/nvm.sh  &amp;&amp; NVM_NODEJS_ORG_MIRROR=https://nodejs.org/dist nvm install vx.y.z &amp;&amp; nvm use vx.y.z &amp;&amp; export &gt; env.txt&quot;
</code></pre><p>The binaries come from <a href="https://nodejs.org/dist/" target="_blank" rel="external">https://nodejs.org/dist/</a>. In particular, these are the directories we are concerned about:</p>
<pre><code>https://nodejs.org/dist/v10.15.1/
https://nodejs.org/dist/v10.15.2/
https://nodejs.org/dist/v10.15.3/
</code></pre><p>And they all have SHA 256 checksums for everything you download (assuming you verify them).</p>
<pre><code>https://nodejs.org/dist/v10.15.1/SHASUMS256.txt
https://nodejs.org/dist/v10.15.2/SHASUMS256.txt
https://nodejs.org/dist/v10.15.3/SHASUMS256.txt
</code></pre><p>That’s all well and good. Having SHA 256 allows team members to verify that we downloaded <em>the same version of node</em> from the repository. But wait… </p>
<h2 id="How-do-you-know-their-v10-15-2-is-GitHub’s-v10-15-2"><a href="#How-do-you-know-their-v10-15-2-is-GitHub’s-v10-15-2" class="headerlink" title="How do you know their v10.15.2 is GitHub’s v10.15.2?"></a>How do you know their v10.15.2 is GitHub’s v10.15.2?</h2><p>Surely anyone who hacked <a href="https://nodejs.org/" target="_blank" rel="external">https://nodejs.org/</a> could have replaced <code>https://nodejs.org/dist/v10.15.2/SHASUMS256.txt</code>, <code>https://nodejs.org/dist/v10.15.2/SHASUMS256.txt.asc</code>, <code>https://nodejs.org/dist/v10.15.2/SHASUMS256.txt.sig</code>, and <code>https://nodejs.org/dist/v10.15.2/node-v10.15.2-linux-arm64.tar.gz</code> so you download a hijacked binary. Even if you try to <a href="https://serverfault.com/questions/896228/how-to-verify-a-file-using-an-asc-signature-file" target="_blank" rel="external">verify the GPG signature</a> with <a href="https://github.com/nodejs/node/#verifying-binaries" target="_blank" rel="external">the key displayed in the repository</a>, anyone working for nodejs could have compiled the same version twice. If that happens, you and I may be running different <code>node</code> binaries that both declare themselves to be <code>v10.15.2</code>.</p>
<h2 id="How-do-you-know-you-are-running-GitHub’s-v10-15-2"><a href="#How-do-you-know-you-are-running-GitHub’s-v10-15-2" class="headerlink" title="How do you know you are running GitHub’s v10.15.2?"></a>How do you know <em>you</em> are running GitHub’s v10.15.2?</h2><p>You download from <a href="https://nodejs.org/dist/v10.15.2/" target="_blank" rel="external">https://nodejs.org/dist/v10.15.2/</a>; it does not mean what you download corresponds to <a href="https://github.com/nodejs/node/tree/v10.15.2" target="_blank" rel="external">https://github.com/nodejs/node/tree/v10.15.2</a>. The reasoning is twofold. First, anyone who provides node binaries can compile any code with the version changed to v10.15.2. So you have to trust them. Second, <a href="https://github.com/nodejs/node/commit/7e530ce306792f060f2316345465af72b8ff5f0c" target="_blank" rel="external">the commit that made v10.15.2 was not signed</a>, whereas the ones for <a href="https://github.com/nodejs/node/commit/297c9d1aa9dd97692a33e9c1e863ea9d053c6d58" target="_blank" rel="external">v10.15.1</a> and <a href="https://github.com/nodejs/node/commit/1a96d83a223ff9f05f7d942fb84440d323f7b596" target="_blank" rel="external">v10.15.3</a> are signed with valid GPG keys. This means, no matter how small the probability is, <code>v10.15.2</code> can be moved without anyone knowing, and projects that use version <code>v10.15.2</code> can potentially get a binary that is different eventually.</p>
<h2 id="What-if-everyone-compiles-their-own-v10-15-3-then"><a href="#What-if-everyone-compiles-their-own-v10-15-3-then" class="headerlink" title="What if everyone compiles their own v10.15.3, then?"></a>What if everyone compiles their own <code>v10.15.3</code>, then?</h2><p>(<code>v10.15.3</code> is a signed commit.) Well that’s not good enough either. <a href="https://github.com/BethGriggs" target="_blank" rel="external">BethGriggs</a> can move <a href="https://github.com/nodejs/node/tree/v10.15.3" target="_blank" rel="external"><code>v10.15.3</code></a> and sign the commit again, resulting in a signed <code>v10.15.3</code> tag that points to a different commit.</p>
<p>But if you pin your node version to <a href="https://github.com/nodejs/node/commit/1a96d83a223ff9f05f7d942fb84440d323f7b596" target="_blank" rel="external">a signed commit hash</a> (1a96d83a223ff9f05f7d942fb84440d323f7b596), clone it, and then <em>compile it yourself</em>, you can be sure everyone on your team gets the same <code>v10.15.3</code> binary, then?</p>
<p>Guess what! The answer is no! <a href="https://github.com/nodejs/node/blob/master/BUILDING.md#prerequisites" target="_blank" rel="external">You can mess with compiler flags!</a></p>
<h2 id="What-works"><a href="#What-works" class="headerlink" title="What works?"></a>What works?</h2><p>One person on the team should be responsible for compiling node and npm binaries. Then that person signs these binaries and publishes both the binaries and signatures to an internal repository.</p>
<p>Afterwards, all other team members install nodejs using the command</p>
<pre><code>bash -c &quot;NVM_DIR=$HOME/.nvm &amp;&amp; source $NVM_DIR/nvm.sh  &amp;&amp; NVM_NODEJS_ORG_MIRROR=(your team repository) nvm install vx.y.z &amp;&amp; nvm use vx.y.z &amp;&amp; export &gt; env.txt&quot;
</code></pre><p>When you and your team members all install signed binaries from a known source, you can all be sure you have the same binary.</p>
<p>It doesn’t mean the binaries are trustworthy, though. Your team member could have spiked the source with special source before compiling it. That requires <em>you</em> to compile the binary yourself, and <a href="https://wiki.mozilla.org/Security/Binary_Transparency" target="_blank" rel="external">verify that the build is reproducible</a> on your end. Nodejs builds are <a href="https://github.com/nodejs/build/issues/589" target="_blank" rel="external">not reproducible</a>, as far as I know.</p>
<p>In conclusion: <strong>nothing works</strong>. There is always something wrong. Your teammates don’t trust you. Become a farmer. Live off the grid. Lawyer up.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/JavaScript/">JavaScript</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-New-machine-essential-packages" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/New-machine-essential-packages/" class="article-date">
  <time datetime="2019-02-20T16:00:20.000Z" itemprop="datePublished">2019-02-20</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/New-machine-essential-packages/">New Machine Essential Packages</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>(I run Ubuntu.)</p>
<pre><code>sudo apt install \
    htop \
    git \
    gitk \
    tig \
    terminator \
    vlc \
    handbrake \
    gimp \
    wine \
    backintime-kde \
    bleachbit \
    gufw \
    build-essential \
    chromium-browser \
    python3.5-dev \
    python3.6-dev \
    python3.5-tk \
    python3.6-tk \
    python-pip \
    python3-pip \
    openssh-server \
    postgresql-11 \
    wireshark \
    filezilla \
    krfb \
    krdc \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg-agent \
    software-properties-common
</code></pre>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/Linux/">Linux</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-HTTP-status-codes-methods-bodies" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/HTTP-status-codes-methods-bodies/" class="article-date">
  <time datetime="2019-02-19T21:03:48.000Z" itemprop="datePublished">2019-02-19</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/HTTP-status-codes-methods-bodies/">HTTP Status Codes, Methods, and Bodies</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>“Be liberal in what you accept, and conservative in what you send.” - <a href="https://stackoverflow.com/a/978094/1558430" target="_blank" rel="external">caskey</a>, summarising the [Robustness Principle]</p>
<h2 id="History-of-RFCs"><a href="#History-of-RFCs" class="headerlink" title="History of RFCs"></a>History of RFCs</h2><p><a href="https://tools.ietf.org/html/rfc2068" target="_blank" rel="external">RFC 2068</a> (“Hypertext Transfer Protocol – HTTP/1.1”) was obsoleted by <a href="https://tools.ietf.org/html/rfc2616" target="_blank" rel="external">RFC 2616</a> (Also “Hypertext Transfer Protocol – HTTP/1.1”), which was in turn obsoleted by <a href="https://tools.ietf.org/html/rfc7230" target="_blank" rel="external">RFC 7230</a> (“…Message Syntax and Routing”), <a href="https://tools.ietf.org/html/rfc7231" target="_blank" rel="external">RFC 7231</a> (“…Semantics and Content”), <a href="https://tools.ietf.org/html/rfc7232" target="_blank" rel="external">RFC 7232</a> (“…Conditional Requests”), <a href="https://tools.ietf.org/html/rfc7233" target="_blank" rel="external">RFC 7233</a> (“…Range Requests”), <a href="https://tools.ietf.org/html/rfc7234" target="_blank" rel="external">RFC 7234</a> (“Hypertext Transfer Protocol (HTTP/1.1): Caching”), and <a href="https://tools.ietf.org/html/rfc7235" target="_blank" rel="external">RFC 7235</a> (“…Authentication”).</p>
<p>So if anyone references an HTTP 1.1 RFC with a number lower than 7000, they might have more reading to do.</p>
<h2 id="HTTP-methods"><a href="#HTTP-methods" class="headerlink" title="HTTP methods"></a>HTTP methods</h2><table>
<thead>
<tr>
<th>Method</th>
<th>Query string allowed?</th>
<th>Body allowed?</th>
<th>When to use?</th>
<th>Successful response has body?</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>Yes</td>
<td><a href="https://stackoverflow.com/a/983458/1558430" target="_blank" rel="external">Avoid</a></td>
<td>Idempotent requests</td>
<td>Yes</td>
</tr>
<tr>
<td>HEAD</td>
<td>Yes</td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods" target="_blank" rel="external">No</a></td>
<td>To check what headers the server would return if it were a GET; to check before downloading a large file.</td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD" target="_blank" rel="external">No</a> (must be ignored)</td>
</tr>
<tr>
<td>POST</td>
<td><a href="https://stackoverflow.com/a/612022/1558430" target="_blank" rel="external">Avoid</a> (Forms cannot contain both data and query string at the same time)</td>
<td>Yes</td>
<td><a href="https://stackoverflow.com/a/10426554/1558430" target="_blank" rel="external">Non-idempotent requests</a>; requests <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods" target="_blank" rel="external">“often causing a change in state or side effects on the server”</a></td>
<td>Yes</td>
</tr>
<tr>
<td>PUT</td>
<td>Avoid (rarely used)</td>
<td>Yes (or 204 with no body)</td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT" target="_blank" rel="external">Like an idempotent POST</a></td>
<td>Yes</td>
</tr>
<tr>
<td>DELETE</td>
<td><a href="https://stackoverflow.com/questions/34939484/in-rest-api-can-delete-methods-have-parameters" target="_blank" rel="external">Yes</a></td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE" target="_blank" rel="external">May</a></td>
<td>Whenever you want to delete something</td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE" target="_blank" rel="external">May</a></td>
</tr>
<tr>
<td>CONNECT</td>
<td>Unknown</td>
<td>No</td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/CONNECT" target="_blank" rel="external">The server making two-way connections on behalf of the client</a>? Probably never</td>
<td>Yes</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>Yes</td>
<td>No</td>
<td>When you want to know other HTTP methods for the same endpoint, or the whole server</td>
<td>Yes</td>
</tr>
<tr>
<td>TRACE</td>
<td>Unknown</td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/TRACE" target="_blank" rel="external">No</a></td>
<td>Debugging.<br>For your everyday dev work? Never.</td>
<td>No</td>
</tr>
<tr>
<td>PATCH</td>
<td><a href="https://stackoverflow.com/questions/17375867/proper-way-to-include-data-with-an-http-patch-request" target="_blank" rel="external">Probably OK</a></td>
<td>Yes</td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH" target="_blank" rel="external">Not necessarily idempotent</a>, or partial modifications to the resource, as instructions rather than the parts</td>
<td>Yes (Unless HTTP 204 NO CONTENT) is sent back)</td>
</tr>
</tbody>
</table>
<h2 id="HTTP-1-1-status-codes"><a href="#HTTP-1-1-status-codes" class="headerlink" title="HTTP (1.1) status codes"></a>HTTP (1.1) status codes</h2><p>Status codes that are not listed (including all of 1xx) are either rare, nonstandard, novelty, or otherwise equivalent to more common status codes (like 451), and should probably not be used.<br>Web server-only responses like 100, 502, and 504 are also not listed.</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Body allowed?</th>
<th>When to use?</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#2xx_Success" target="_blank" rel="external">200</a> OK</td>
<td>Yes</td>
<td>Almost every “successful” response that comes with a body. No body? See 201 or 204.</td>
</tr>
<tr>
<td>201 Created</td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/201" target="_blank" rel="external">Yes</a> (should be the resource that was created)</td>
<td>When you’re creating something</td>
</tr>
<tr>
<td>204 No Content</td>
<td>No (lol)</td>
<td>The server did a thing but had nothing to say about it. Also, by returning a 204 instead of a 200, the browser does not “change pages” when a link is clicked.</td>
</tr>
<tr>
<td>301 Moved Permanently</td>
<td><a href="https://webmasters.stackexchange.com/a/77189" target="_blank" rel="external">Yes, except HEAD requests</a></td>
<td>When all future requests should go somewhere else.</td>
</tr>
<tr>
<td>302 Found</td>
<td><a href="https://webmasters.stackexchange.com/a/77189" target="_blank" rel="external">Yes, except HEAD requests</a></td>
<td>Use 303 See Other and 307 Temporary Redirect instead.</td>
</tr>
<tr>
<td>303 See Other</td>
<td><a href="https://webmasters.stackexchange.com/a/77189" target="_blank" rel="external">Yes, except HEAD requests</a></td>
<td></td>
</tr>
<tr>
<td>304 Not Modified</td>
<td><a href="https://serverfault.com/a/168348" target="_blank" rel="external">No</a></td>
<td>The resource was the same as the last time the client asked for it.</td>
</tr>
<tr>
<td>305 Use Proxy</td>
<td></td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.4.5" target="_blank" rel="external">Never</a></td>
</tr>
<tr>
<td>306 (Unused)</td>
<td></td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.4.6" target="_blank" rel="external">Never</a></td>
</tr>
<tr>
<td>307 Temporary Redirect</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.4.7" target="_blank" rel="external">Yes</a></td>
<td>Like 301, when you want the client to keep using the same HTTP method</td>
</tr>
<tr>
<td>308 Permanent Redirect</td>
<td></td>
<td>Like 302, when you want the client to keep using the same HTTP method</td>
</tr>
<tr>
<td>400 Bad Request</td>
<td>Yes</td>
<td>There is something syntactically wrong with the request. The web server literally cannot understand what was sent.</td>
</tr>
<tr>
<td>401 Unauthorized</td>
<td>Yes</td>
<td>If the user is not logged in.</td>
</tr>
<tr>
<td>402 Payment Required</td>
<td>No</td>
<td>Reserved for future use, so <strong>never</strong>.</td>
</tr>
<tr>
<td>403 Forbidden</td>
<td>Yes</td>
<td>If the user is logged in, but does not have the permission to access that resource.</td>
</tr>
<tr>
<td>404 Not Found</td>
<td>Yes</td>
<td>When the resource is not found, but might come back some time, so a client can ask again soon. See also 410 Gone.</td>
</tr>
<tr>
<td>405 Method Not Allowed</td>
<td>Probably not</td>
<td>When the resource does not support that HTTP method.</td>
</tr>
<tr>
<td>406 Not Acceptable</td>
<td>Yes, and it should</td>
<td>When the resource is available, but not in the form requested by the client’s <code>Accept</code> header.</td>
</tr>
<tr>
<td>408 Request Timeout</td>
<td></td>
<td>The server waited more than expected for the client to make a request for something.</td>
</tr>
<tr>
<td>409 Conflict</td>
<td>Yes, and it should</td>
<td>Something happened, and now you can’t (method) the resource.</td>
</tr>
<tr>
<td>410 Gone</td>
<td>Maybe?</td>
<td>The resource is gone forever. The client should never ask for it again. See also 404 Not Found.</td>
</tr>
<tr>
<td>411 Length Required</td>
<td>Maybe?</td>
<td>The request needed to provide a length, but it did not.</td>
</tr>
<tr>
<td>413 Payload Too Large</td>
<td>Probably not</td>
<td>The request is too large and the server doesn’t want to process it.</td>
</tr>
<tr>
<td>414 URI Too Long</td>
<td>Maybe?</td>
<td>Too many query parameters, mostly.</td>
</tr>
<tr>
<td>415 Unsupported Media Type</td>
<td>Maybe?</td>
<td>When the user uploads a GIF when only JPG is allowed.</td>
</tr>
<tr>
<td>500 Internal Server Error</td>
<td>Yes</td>
<td>Basically all the time something in the backend goes wrong.</td>
</tr>
<tr>
<td>501 Not Implemented</td>
<td>Maybe?</td>
<td>You ought to have that feature, but you were busy and didn’t make it.</td>
</tr>
<tr>
<td>503 Service Unavailable</td>
<td>Yes</td>
<td>Includes “down for maintenance”, but not for “bus service unavailable” if you operate a bus.</td>
</tr>
</tbody>
</table>
<h2 id="See-also"><a href="#See-also" class="headerlink" title="See also"></a>See also</h2><p>Joke’s on you: you can just look at all these things in the form of a <a href="https://www.codetinkerer.com/2015/12/04/choosing-an-http-status-code.html" target="_blank" rel="external">flow chart</a>.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/Software-Development/">Software Development</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-Python-terminal-recipes" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/Python-terminal-recipes/" class="article-date">
  <time datetime="2019-02-08T21:03:48.000Z" itemprop="datePublished">2019-02-08</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/Python-terminal-recipes/">Python Terminal Recipes</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>A lot of these can be replaced by a library like pandas, but sometimes you simply don’t have access to pandas…</p>
<h2 id="Turn-list-of-lists-into-a-copy-paste-CSV-file"><a href="#Turn-list-of-lists-into-a-copy-paste-CSV-file" class="headerlink" title="Turn list of lists into a copy-paste CSV file"></a>Turn list of lists into a copy-paste CSV file</h2><p>Do people ask you to “export” things from the database a lot, but never the same thing more than once?<br>Turn your Django or SQLAlchemy querysets, however complicated or mixed with logic, into a “CSV file” without installing additional libraries.</p>
<p>Note: if you give this function a list of dicts (which I did not say it handles), the columns will come out in whichever order it feels like.</p>
<pre><code>import io, csv
from __future__ import print_function

def csvise(queryset):
    result = io.StringIO()
    if not queryset:
        return &apos;&apos;
    first_obj = queryset[0]
    if isinstance(first_obj, list):
        writer = csv.writer(result)
    elif isinstance(first_obj, dict):
        writer = csv.DictWriter(
            result,
            fieldnames=queryset[0].keys())
        writer.writeheader()
    else:
        raise TypeError(&apos;Things in queryset must be list or dict!&apos;)
    for row in queryset:
        writer.writerow(row)
    return result.getvalue()
</code></pre><h2 id="Turn-a-CSV-file-string-into-a-list-of-dicts"><a href="#Turn-a-CSV-file-string-into-a-list-of-dicts" class="headerlink" title="Turn a CSV file string into a list of dicts"></a>Turn a CSV file string into a list of dicts</h2><p>Sometimes you want to get objects out of a string too.</p>
<pre><code>import io, csv

def dictise(csv_string):
    csv_string = csv_string.strip()
    reader_list = csv.DictReader(io.StringIO(csv_string))
    return [dict(row) for row in reader_list]
</code></pre><h2 id="Turn-an-HTML-table-into-an-array-of-arrays"><a href="#Turn-an-HTML-table-into-an-array-of-arrays" class="headerlink" title="Turn an HTML table into an array of arrays"></a>Turn an HTML table into an array of arrays</h2><p>No recipes yet, <a href="https://stackoverflow.com/questions/2870667/how-to-convert-an-html-table-to-an-array-in-python" target="_blank" rel="external">without the use of third-party libraries.</a> But for some reason you have Pandas:</p>
<pre><code>import pandas as pd

pd.read_html(content)  # That&apos;s it
</code></pre><h2 id="Sort-a-file-any-way-you-want"><a href="#Sort-a-file-any-way-you-want" class="headerlink" title="Sort a file any way you want"></a>Sort a file any way you want</h2><pre><code>def sort_file_lines(file, key=lambda x: x):
    with open(file, &quot;r&quot;) as f:
        lines = f.readlines()
        lines.sort(key=key)
    for line in lines:
        print(line, end=&apos;&apos;)
</code></pre><p>You can then use this function with a sort function, like so: (this is a function that extracts test times from console output.)</p>
<pre><code>import re

def test_speed(line):
    reg = re.search(r&apos;OK \((\d+\.\d+)s\)&apos;, line)
    if not reg:
        return 0
    runtime_str = reg.group(1)
    return float(runtime_str)

sort_file_lines(&apos;blablabla.txt&apos;, test_speed)
</code></pre><h2 id="Split-text-every-n-newlines"><a href="#Split-text-every-n-newlines" class="headerlink" title="Split text every n newlines"></a>Split text every n newlines</h2><pre><code>def split_n_lines(text, *, n=1):
    assert n &gt;= 1
    buffer = []
    for line in text.split(&apos;\n&apos;):
        buffer.append(line)
        if len(buffer) &gt;= n:
            yield &apos;\n&apos;.join(buffer)
            buffer = []
</code></pre><h2 id="Get-a-rough-count-on-a-django-postgres-table"><a href="#Get-a-rough-count-on-a-django-postgres-table" class="headerlink" title="Get a rough count on a django-postgres table"></a>Get a rough count on a django-postgres table</h2><pre><code>from django.db import connection

def rough_count(table_name):
    with connection.cursor() as cursor:
        cursor.execute(&quot;SELECT reltuples FROM pg_class WHERE relname = %s&quot;,
                        [table_name])
        record = cursor.fetchone()
    if record:
        return int(record[0])
    return 0
</code></pre><h2 id="Get-someone’s-Django-token"><a href="#Get-someone’s-Django-token" class="headerlink" title="Get someone’s (Django) token"></a>Get someone’s (Django) token</h2><pre><code>def get_token(email):
    if isinstance(email, str):
        return Token.objects.filter(user__email=email).first().key
    return Token.objects.filter(user=email).first().key
</code></pre><h2 id="Extract-something-from-a-page"><a href="#Extract-something-from-a-page" class="headerlink" title="Extract something from a page"></a>Extract something from a page</h2><p>PyQuery is like a cheater’s version of BeautifulSoup.</p>
<pre><code>import requests
from pyquery import PyQuery as pq

def extract(url, selector):
    resp = requests.get(url)
    return pq(resp.content).find(selector).text()
</code></pre><h2 id="Track-performance-of-a-piece-of-code"><a href="#Track-performance-of-a-piece-of-code" class="headerlink" title="Track performance of a piece of code"></a>Track performance of a piece of code</h2><pre><code>import contextlib
from datetime import datetime

@contextlib.contextmanager
def tracker():
    start = datetime.now()
    yield
    finish = datetime.now()
    print(&apos;%f seconds&apos; % (finish - start).total_seconds())
</code></pre>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/Python/">Python</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-How-to-write-a-resume" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/How-to-write-a-resume/" class="article-date">
  <time datetime="2019-02-01T17:42:10.000Z" itemprop="datePublished">2019-02-01</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/How-to-write-a-resume/">How to Write a Resume</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>Many of us have done the <a href="https://uwaterloo.ca/professional-development-program/courses/pd1-career-fundamentals" target="_blank" rel="external">PD 1</a> course over at Waterloo, whose primary purpose is to ready students with the skills required to get their first job. One of these skills taught is “Develop their resumes through feedback and in-person critiques”.</p>
<p>Back when I did my PD 1—in the 15th century, when the Roman Empire was still a thing—I was actually told to follow exactly PD’s given example resume format, which I thought was simple, direct, but ugly AF. It also recommended <a href="http://forums.redflagdeals.com/why-does-pd1-loo-teaches-you-wrong-way-write-resume-891059/" target="_blank" rel="external">two-page resumes</a>, which have since fallen out of favour.</p>
<p>In particular, my PD 1 recommended resumes with the following properties:</p>
<ul>
<li>Stick to that template style. 12-point Arial, indents, line heights, everything.</li>
<li>Put <em>both</em> your local and mailing address in there.</li>
<li>For some reason, every previous work experience needs three to four, and no other number, of highlights.</li>
</ul>
<p>My PD 1 (and, subsequently, my entire internship career) resume looked something like this.</p>
<p><img src="/image/resumetranscript-2-638.jpg" alt="Some poor sod&#39;s PD 1 resume I found online"></p>
<p>Granted, <a href="https://www.reddit.com/r/uwaterloo/comments/32zd72/serious_if_upper_years_have_found_that_cecas/" target="_blank" rel="external">the point of PD 1’s resume advice is to prevent <em>terrible</em> resumes from being sent to employers</a>, the advice it gives can still be improved.</p>
<p>I am now old (over 500 years old now) and have read other people’s resumes. Here are the things I like and dislike about the ones I selected.</p>
<h2 id="Keep-it-short"><a href="#Keep-it-short" class="headerlink" title="Keep it short"></a>Keep it short</h2><p>Unless you are applying to a large company with dedicated full-time HR department, the person who reviews your resume (I’ll call that person a <em>reviewer</em>) is likely just someone who has a real job, is busy, and has more important work to do. They have no time to read your resumes; <strong>they have absolutely no time to appreciate your cover letters</strong>, especially if they are addressed to “whom it may concern”, or “Dear sirs/madams”. They don’t work. Please stop wasting each other’s time.</p>
<p>People—apart from those who designed PD 1—say “keep it to one page”, and they are right. Reviewers really have no time to read two pages worth of techno-babble <em>per candidate</em>. By the time I (a reviewer) get to the second page, I will have already forgotten the contents of the first. Often I even forget your name by the time I finish page two. <strong>Two pages is too long for me</strong>, but there may be exceptions.</p>
<p>Speaking of keeping it within one-page, some candidates choose to cram the same stuff onto one page by “wiggling the rules a bit”. Decreasing the font size, changing to a narrower font, putting things in multiple columns, lowering line height, and even shrinking letter spacing… <em>please</em> stop making your resume hard to read. <strong>A one-page resume that is hard to read is worse than a two-page resume.</strong></p>
<h2 id="Cut-the-crap"><a href="#Cut-the-crap" class="headerlink" title="Cut the crap"></a>Cut the crap</h2><p>Now that you know reviewers don’t like reviewing, you need to trim the fat from your two-page resume. There are some things that you simply need not specify, saving both your and your reviewer’s time.</p>
<ul>
<li>You are expected to be a fast learner. There is no need to mention it.</li>
<li>You are expected to work well with other team members. There is no need to mention it.</li>
<li>You are expected to know how to use Microsoft Office. There is no need to mention it (unless the job description asks for it).</li>
<li>We all know “experience in technology foo” means “almost no experience in technology foo.” If you aren’t actually good at something, you waste space mentioning it.</li>
</ul>
<p>And if you are a co-founder of a company, <em>please</em> make sure company is real. There is no such thing as being a co-founder of a fictional company, but there is such a thing called “fraud”.</p>
<h2 id="Keep-it-professional"><a href="#Keep-it-professional" class="headerlink" title="Keep it professional"></a>Keep it professional</h2><p>Some resumes like to list their owner’s hobbies (“soccer”, “skiing”, “photography”…). There is no good reason to list your interests and hobbies on your resume. Reviewers don’t care if you follow Manchester United. Instead, they check if you have any relevant skills listed, so that they can easily tell if the company should hire you <em>for work</em>.</p>
<h2 id="Make-it-easy-to-read"><a href="#Make-it-easy-to-read" class="headerlink" title="Make it easy to read"></a>Make it easy to read</h2><p>The point of a resume is both to showcase your experience, and to make the reader believe that you are the ideal hire, <strong>in under a minute</strong>. To communicate this in under a minute, your resume must be easy to read, easy to digest, and what they read must be impressive.</p>
<p>First, <strong>list your skills</strong>, because companies hire you for your skills, not for your education, personality, or even education sometimes.</p>
<p>Then, (if this is a technical resume) <strong>list specific tools that you have worked with</strong>, to let the reader know your background better. For example, listing “Python” can mean many things, so mentioning “pyTorch” means you have machine learning experience, while “Flask” means you do web development.</p>
<p>If you have a Summary section, you have to make sure it actually summarises.</p>
<p>Make sure you list these tools and frameworks in every work experience that you have listed.</p>
<p>List numbers (e.g. “<strong>$50000 saved</strong>“), figures (e.g. “<strong>5x improvement</strong>“), and make sure they are clearly emphasised. This makes them easy to spot when your reviewer has only a minute to spare.</p>
<p><strong>Use contrast to your advantage.</strong> It is important to highlight certain things, even if it means de-emphasising other things. It doesn’t matter if you worked in New York (apart from your current job, maybe); it matters what impact you made there. It doesn’t matter when you started a job; it matters if you are still there. If something isn’t important, <em>make sure</em> it looks less important than the rest.</p>
<h2 id="Know-your-audience-know-your-job"><a href="#Know-your-audience-know-your-job" class="headerlink" title="Know your audience, know your job"></a>Know your audience, know your job</h2><p>If you are applying for a CS position, list your projects before your education.</p>
<p><a href="https://www.reddit.com/r/uwaterloo/comments/32zd72/serious_if_upper_years_have_found_that_cecas/cqg1prq/" target="_blank" rel="external">If you are applying for a finance position, list your grades—which are hopefully excellent—before your projects.</a></p>
<p>There may be technical reviewers who “know their shit”, so, putting “linux” and “latex” in your “programming languages” section may put you at a disadvantage.</p>
<h2 id="Don’t-disappoint-the-reader"><a href="#Don’t-disappoint-the-reader" class="headerlink" title="Don’t disappoint the reader"></a>Don’t disappoint the reader</h2><p>If you plan to put links in your PDF resumes, please make them clickable. Seeing a blue underline, clicking on it, and watch it do nothing, is more disappointing than not having a link to begin with. <strong>If there are dead links, please fix them.</strong></p>
<p>Links to your portfolio are welcome. But please have stuff in your portfolio. I have seen plenty of portfolios with just hello-worlds in them, and they are pathetic.</p>
<p>Oh, and please make your resume printable, and don’t waste my ink by making the background bright orange.</p>
<p><strong>tl;dr</strong> make it readable in under a minute.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/Career/">Career</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
  


    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:blog.ohai.ca">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/">Brian&#39;s Blog</a>
	</h1>
	<span class="copyright">
		&copy; 2019 Brian<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<script src="../../../js/script.js"></script>
  </div>

  <script type="text/javascript">
    //<![CDATA[
    var sc_project=4446854;
    var sc_invisible=0;
    var sc_security="74785e80";
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write(
      "<sc"+"ript type='text/javascript' src='" +
      scJsHost +
      "statcounter.com/counter/counter_xhtml.js'></" +
      "script>"
    );
    //]]>
  </script>
  <noscript>
    <img style="display: none"
         src="http://c.statcounter.com/4446854/0/74785e80/0/" />
  </noscript><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>

<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Archives: 2016/6 | Brian&#39;s Blog</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="Meow">
<meta property="og:type" content="website">
<meta property="og:title" content="Brian's Blog">
<meta property="og:url" content="https://blog.ohai.ca/archives/2016/06/index.html">
<meta property="og:site_name" content="Brian's Blog">
<meta property="og:description" content="Meow">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Brian's Blog">
<meta name="twitter:description" content="Meow">
  
    <link rel="alternative" href="/atom.xml" title="Brian&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="../../../css/style.css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/">Brian&#39;s Blog</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			<li><a href="/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.ohai.ca"></form>
	</div>
</header>
    <div id="main">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/AWS/">AWS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Access/">Access</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Accessibility/">Accessibility</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Android/">Android</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Apple/">Apple</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Business/">Business</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Career/">Career</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Cars/">Cars</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Firearms/">Firearms</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/General/">General</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Health/">Health</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/JavaScript/">JavaScript</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Learning/">Learning</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Lifestyle/">Lifestyle</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Linguistics/">Linguistics</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Linux/">Linux</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Machine-Learning/">Machine Learning</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Mathematics/">Mathematics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Meta/">Meta</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Pokemon/">Pokemon</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Psychology/">Psychology</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/PyCon/">PyCon</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Python/">Python</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/QA/">QA</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Recipes/">Recipes</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/SQL/">SQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Science/">Science</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Security/">Security</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Software-Development/">Software Development</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Startups/">Startups</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Travel/">Travel</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../../../tags/Tumblr/">Tumblr</a><span class="tag-list-count">4</span></li></ul>

  
    <article id="post-Banff-The-Journey" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2016/Banff-The-Journey/" class="article-date">
  <time datetime="2016-06-27T01:27:58.000Z" itemprop="datePublished">2016-06-26</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2016/Banff-The-Journey/">Banff: The Journey</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>Continuing from <a href="/2016/Calgary-The-Journey/">my trip to Calgary</a>, I rented a car, drove to the Rockies, and had the time of my life. At a huge cost. Story below.</p>
<h1 id="Day-1-Johnston-Canyon-Lake-Louise"><a href="#Day-1-Johnston-Canyon-Lake-Louise" class="headerlink" title="Day 1: Johnston Canyon / Lake Louise"></a>Day 1: Johnston Canyon / Lake Louise</h1><p>In the company of a righteous man in the eyes of the Lord, his fiancee at the time, her brother, and her three best friends, I drove along to Banff National Park, the first city I have encountered that has an entrance fee. The fee is also calculated in a very odd manner: by paying ~$10 per day per person, you get a single receipt which you must affix to your vehicle. (So… should I hide all my passengers?) This same receipt can also be used as a museum pass, but you must keep the receipt affixed to the car. (Which means you can never use it)</p>
<p>Anyway, we hiked.</p>
<p><img src="/image/banff/image147.jpg" alt=""></p>
<p>It became immediately clear that I was too old for moderate-altitude hiking. Twenty year-old peers championed the rocks with ease; I felt large rocks on my chest. The resulting scenery was worthy of the exercise.</p>
<p><img src="/image/banff/image146.jpg" alt=""><br><img src="/image/banff/image145.jpg" alt=""><br><img src="/image/banff/image144.jpg" alt=""><br><img src="/image/banff/image142.jpg" alt=""><br><img src="/image/banff/image129.jpg" alt=""><br><img src="/image/banff/image123.jpg" alt=""></p>
<p>This is the closest hiking trail from Calgary (I think?) making it also the most crowded. That did not stop us from exploring the waterfall at the end of it:</p>
<p><img src="/image/banff/image122.jpg" alt=""><br><img src="/image/banff/image118.jpg" alt=""><br><img src="/image/banff/image116.jpg" alt=""><br><img src="/image/banff/image115.jpg" alt=""></p>
<p>That part of the trail is called the Lower Falls. This is called the LGBTQ tree.</p>
<p><img src="/image/banff/image114.jpg" alt=""></p>
<p>After the hike, we had, some for the first time, “afternoon tea”. At an amazing cost, you receive three plates worth of desserts, as well as your personal pot of tea. I had the Safari something; it was good.</p>
<p>(No meaningful pictures taken during the meal)</p>
<p>The weather was acting up at the time, so Lake Louise gave a mediocre impression. (Spoiler: I went back)</p>
<p><img src="/image/banff/image105.jpg" alt=""></p>
<p>After Lake Louise, the six travellers returned to Calgary, where they intended to stay for the week. I drove to Banff (town proper), and I intended to stay for the week.</p>
<p>It was a beautiful, beautiful town. Also a simple one. Essentially a tourist attraction, the entire town is centered around its main street, whose upper portion was solely occupied by hotels and accommodations, and whose lower portion was solely occupied by attractions like shops, museums, and parks.</p>
<p>Even in the rain, the sights were breathtaking. (The altitude was also breathtaking.) So many Europeans. Swiss, English, German, and Dutch!</p>
<p><img src="/image/banff/image99.jpg" alt=""></p>
<h1 id="Day-2-Two-Jack-Lake-Lake-Minnewanka-Gondola-Cave-and-Basin-Whyte-Museum"><a href="#Day-2-Two-Jack-Lake-Lake-Minnewanka-Gondola-Cave-and-Basin-Whyte-Museum" class="headerlink" title="Day 2: Two Jack Lake, Lake Minnewanka, Gondola, Cave and Basin, Whyte Museum"></a>Day 2: Two Jack Lake, Lake Minnewanka, Gondola, Cave and Basin, Whyte Museum</h1><p>With the forecast being rain for the day, I woke up early for a drive to Two Jack Lake, which was a beautiful place, with only a few Asians fiddling about.</p>
<p><img src="/image/banff/image420.jpg" alt=""><br><img src="/image/banff/image415.jpg" alt=""><br><img src="/image/banff/image414.jpg" alt=""><br><img src="/image/banff/image412.jpg" alt=""><br><img src="/image/banff/image411.jpg" alt=""></p>
<p>The next destination was Lake Minnewanka, which, according to what I had overheard from a tour guide around at the time, was a man-made lake. “Oh wow,” I thought to myself, “I should get a tour guide to get the most out of this trip.” I didn’t.</p>
<p><img src="/image/banff/image410.jpg" alt=""><br><img src="/image/banff/image406.jpg" alt=""><br><img src="/image/banff/image403.jpg" alt=""><br><img src="/image/banff/image402.jpg" alt=""></p>
<p>The rain had not subsided entirely; I kept my activities in-town.</p>
<p>The ferris-wheel-on-a-chain Gondola was one of the things each tourist should see. I, having just bitten the inside of my mouth at the base of the station, got irrationally annoyed, and abandoned the idea in the process. But I was there.</p>
<p><img src="/image/banff/image388.jpg" alt=""><br><img src="/image/banff/image392.jpg" alt=""></p>
<p>Where else can you go on a rainy day? Museums, I suppose. The museums in Banff are interesting. The first one I went to was the <a href="http://www.pc.gc.ca/eng/lhn-nhs/ab/caveandbasin/index.aspx" target="_blank" rel="external">Cave and Basin</a>, which was more park than museum.</p>
<p><img src="/image/banff/image71.jpg" alt=""><br><img src="/image/banff/image79.jpg" alt=""></p>
<p>The <em>Cave</em> was a hole in the ground. Inside the cave was a pool of water, which smelled like sulphur (hydrogen sulphide). The experience was unique to me.</p>
<p><img src="/image/banff/image91.jpg" alt=""><br><img src="/image/banff/image90.jpg" alt=""><br><img src="/image/banff/image86.jpg" alt=""></p>
<p>The <em>Basin</em> was effectively a pool of hot spring water, also full of minerals. They claim that <a href="https://en.wikipedia.org/wiki/Banff_Springs_snail" target="_blank" rel="external">endangered snails</a> live in the water. Despite the staff pointing into the (cess)pool, I could not see any.</p>
<p><img src="/image/banff/image85.jpg" alt=""></p>
<p>Inside the park was also a recreation of what was supposedly the first hotel in Banff.</p>
<p><img src="/image/banff/image73.jpg" alt=""></p>
<p>Next, I went to the Whyte museum, which I would not reasonably recommend. If you want history, go to Glenbow museum. If you want fun, go outside. Nevertheless, being a boring place, it attracts many rainy-day elderly people. Here are some pictures of the museum.</p>
<p><img src="/image/banff/image61.jpg" alt=""><br><img src="/image/banff/image67.jpg" alt=""><br><img src="/image/banff/image64.jpg" alt=""><br><img src="/image/banff/image63.jpg" alt=""></p>
<p>Nearing the end of the day, I returned to town with an empty stomach. From the supermarket (the Safeway is now an IGA), I purchased a piece of “pure AAA western beef”. Using the recipe <a href="http://www.marthastewart.com/343792/pan-fried-steak" target="_blank" rel="external">most available at the time</a>, I pan-fried it with seasoning. It was glorious.</p>
<p><img src="/image/banff/image59.jpg" alt=""></p>
<p>(No meaningful pictures taken during the meal)</p>
<h1 id="Day-3-Moraine-Lake-Lake-Louise-Bow-Lake-Peyto-Lake"><a href="#Day-3-Moraine-Lake-Lake-Louise-Bow-Lake-Peyto-Lake" class="headerlink" title="Day 3: Moraine Lake, Lake Louise, Bow Lake, Peyto Lake"></a>Day 3: Moraine Lake, Lake Louise, Bow Lake, Peyto Lake</h1><p>It’s Lake Day! I began my <a href="https://www.google.ca/maps/dir/Banff,+AB/Moraine+Lake,+Improvement+District+No.+9,+AB/Lake+Louise,+AB/Bow+Lake,+Improvement+District+No.+9,+AB/Peyto+Lake,+Improvement+District+No.+9,+AB/Banff,+AB/@51.4410197,-116.3268833,10z/data=!3m1!4b1!4m38!4m37!1m5!1m1!1s0x5370ca45910c4afd:0xcaafaebedaac9463!2m2!1d-115.5707694!2d51.1783629!1m5!1m1!1s0x53775bcbf58ee517:0x42c8a7a2c3c05c95!2m2!1d-116.1860049!2d51.3217416!1m5!1m1!1s0x53775d28a0e1ce11:0x3c373c7b6365bce6!2m2!1d-116.1773193!2d51.4253851!1m5!1m1!1s0x5377798c82924145:0xee9f124083b5d300!2m2!1d-116.460027!2d51.6712779!1m5!1m1!1s0x537778716d70aaaf:0xa7adc4f7892b437b!2m2!1d-116.5226977!2d51.7255153!1m5!1m1!1s0x5370ca45910c4afd:0xcaafaebedaac9463!2m2!1d-115.5707694!2d51.1783629!3e0" target="_blank" rel="external">250km journey</a> early in the morning. The day would be sunny (most places), so I planned the day outdoors.</p>
<p>Moraine Lake was by far the most beautiful:</p>
<p><img src="/image/banff/image370.jpg" alt=""><br><img src="/image/banff/image364.jpg" alt=""><br><img src="/image/banff/image53.jpg" alt=""><br><img src="/image/banff/image52.jpg" alt=""></p>
<p>I attempted to take a mount of rocks that was at the base of the lake. It produced some of the best pictures I have taken on this trip. But it was also the coldest (-1 C in June? What) so I could not stay for long. Bizarrely, Lake Louise, which is just 10km away, was much warmer at the time, so I went for a complete hike there, from one end of the lake, to the opposite end.</p>
<p><img src="/image/banff/image362.jpg" alt=""><br><img src="/image/banff/image361.jpg" alt=""><br><img src="/image/banff/image360.jpg" alt=""><br><img src="/image/banff/image358.jpg" alt=""><br><img src="/image/banff/image354.jpg" alt=""><br><img src="/image/banff/image351.jpg" alt=""><br><img src="/image/banff/image349.jpg" alt=""><br><img src="/image/banff/image343.jpg" alt=""><br><img src="/image/banff/image339.jpg" alt=""><br><img src="/image/banff/image335.jpg" alt=""><br><img src="/image/banff/image334.jpg" alt=""><br><img src="/image/banff/image333.jpg" alt=""><br><img src="/image/banff/image331.jpg" alt=""></p>
<p>The opposite end of the lake could be walked on; it had a solid clay foundation. Beyond the clay, there was a spot for climbers, and a lot of<br>warning signs about wild bears.</p>
<p>My next step was Bow Lake, which was a short drive north of Lake Louise. It was less famous for obvious reasons.</p>
<p><img src="/image/banff/image43.jpg" alt=""><br><img src="/image/banff/image42.jpg" alt=""><br><img src="/image/banff/image41.jpg" alt=""></p>
<p>There are no real restaurants along the way, so I packed a number of snacks for the day. The final destination of the day was Peyto Lake, which could/should be seen from Bow Summit, another one of the Bow places one must experience.</p>
<p><img src="/image/banff/image38.jpg" alt=""></p>
<p>Bow Summit was a sharp climb, but also a rewarding one. Atop the summit, you see a lake so blue, it may seem unreal:</p>
<p><img src="/image/banff/image36.jpg" alt=""><br><img src="/image/banff/image34.jpg" alt=""></p>
<p>To use <a href="http://banffandbeyond.com/is-peyto-lake-really-that-blue/" target="_blank" rel="external">the words of Audrey the blogger</a>: “Peyto Lake really is that blue? Yes it is!”</p>
<h1 id="Day-4-Banff-Park-Museum-Bow-Falls-Banff-Downtown-Tunnel-Mountain-Trail"><a href="#Day-4-Banff-Park-Museum-Bow-Falls-Banff-Downtown-Tunnel-Mountain-Trail" class="headerlink" title="Day 4: Banff Park Museum, Bow Falls, Banff Downtown, Tunnel Mountain Trail"></a>Day 4: Banff Park Museum, Bow Falls, Banff Downtown, Tunnel Mountain Trail</h1><p>Taking a break from all that driving, I stayed largely in town on Thursday.</p>
<p>A lady by the name of “Lisa” may be delighted to learn that there is, in fact, a museum about itself: the Banff Park Museum.</p>
<p><img src="/image/banff/image30.jpg" alt=""><br><img src="/image/banff/image29.jpg" alt=""></p>
<p>The museum also had other interesting exhibits, such as taxidermy birds, elks, goats, and bears. They claim to have placed them exactly how they have always been placed, including having random specimens cluttered here and there, because the museum is a museum about itself, and this was how the museum has always been. Can’t argue with that.</p>
<p><img src="/image/banff/image26.jpg" alt=""><br><img src="/image/banff/image27.jpg" alt=""></p>
<p>Next was a hike down the Bow River Trail and the Bow Falls trail, leading to… Bow Falls. Strangely enough, I have lost all pictures of the actual hike and the fall itself, so you may consult <a href="https://www.google.ca/search?q=bow+falls" target="_blank" rel="external">Google</a> for pictures. The only surviving picture is of a fake Indian tribe leader, looking for “donations” from passersby.</p>
<p><img src="/image/banff/image23.jpg" alt=""></p>
<p>After the hike, I returned downtown. Downtown Banff is a strange, and beautiful place. They have a <em>THE</em> PRESBYTERIAN CHURCH IN CANADA, majestic since 1830, and a “Banff Avenue Square” that is, rather amusingly, a circle.</p>
<p><img src="/image/banff/image24.jpg" alt=""><br><img src="/image/banff/image25.jpg" alt=""></p>
<p>Finally, when the day was about to end (that being 6pm), I went for an in-town hike at Tunnel Mountain. The inclination was ridiculous (40 degrees uphill in the beginning?), but it got easier as I ascended.</p>
<p><img src="/image/banff/image321.jpg" alt=""><br><img src="/image/banff/image315.jpg" alt=""></p>
<p>The view got better and better, until I finally reached the peak:</p>
<p><img src="/image/banff/image313.jpg" alt=""><br><img src="/image/banff/image21.jpg" alt=""></p>
<p>I will never forget that hike. It was worth every second of my life.</p>
<h1 id="Day-5-Athabasca-Glacier-Athabasca-Falls-Jasper-Maligne-Canyon"><a href="#Day-5-Athabasca-Glacier-Athabasca-Falls-Jasper-Maligne-Canyon" class="headerlink" title="Day 5: Athabasca Glacier, Athabasca Falls, Jasper, Maligne Canyon"></a>Day 5: Athabasca Glacier, Athabasca Falls, Jasper, Maligne Canyon</h1><p>Time for <a href="https://www.google.ca/maps/dir/Banff,+AB/Athabasca+Glacier,+Improvement+District+No.+12,+AB/Athabasca+Falls,+Improvement+District+No.+12,+AB/Maligne+Canyon,+Jasper,+AB/Banff,+AB/@52.034266,-117.9529196,8z/data=!3m1!4b1!4m32!4m31!1m5!1m1!1s0x5370ca45910c4afd:0xcaafaebedaac9463!2m2!1d-115.5707694!2d51.1783629!1m5!1m1!1s0x5377fee52d26aa55:0x3c5ddc282519d267!2m2!1d-117.2578206!2d52.1897234!1m5!1m1!1s0x5382cd919bef9cc3:0x543efdf2eee36be6!2m2!1d-117.8837672!2d52.664437!1m5!1m1!1s0x539cd49b6d7b1429:0x8f2153bb15fed8f5!2m2!1d-118.0039705!2d52.9199289!1m5!1m1!1s0x5370ca45910c4afd:0xcaafaebedaac9463!2m2!1d-115.5707694!2d51.1783629!3e0" target="_blank" rel="external">more driving</a>. Eight hours of it! The brokeback (literal) journey would get me to Jasper, another town you need to pay to get into, and whatever it was it had to offer that one of my colleagues raved so much about. But first, I must drive two hours to each Peyto Lake, where one can exit the vehicle and stretch for air.</p>
<p>The drive along the <a href="http://www.icefieldsparkway.ca/" target="_blank" rel="external">Icefields Parkway</a> was a beautiful, but an extremely boring one. Lasting 232km, you see mountains rivers, beyond which, more mountains and rivers. Sometimes dried riverbeds. No surprises. The two-lane highway forces the driver (me) to pass trailers while crossing to the opposite side of the road. Had it not been a Hyundai Accident with something like a 1.6L engine on eco, it could have been less of a thrill. After an hour of convincing myself that I was still awake (or even alive), I arrived at the Columbia Icefields area. Yes, the <a href="http://athletics.uwaterloo.ca/sports/2010/7/21/Columbia_Icefield.aspx" target="_blank" rel="external">Columbia Ice Field</a> was named after it, because that stupid school loves references. The real ice field was breathtaking, again, because it was 2.5km above sea level, and it was the right altitude for the average human to be out of breath.</p>
<p><img src="/image/banff/image308.jpg" alt=""><br><img src="/image/banff/image307.jpg" alt=""></p>
<p>Maybe Columbia Icefields isn’t Athabasca Glacier. But to me, it was close enough. I went a glacier; it was amazingly accessible. You can even see tours <em>on</em> the glacier, for the more adventurous. It was too cold and windy to take a steady photo, but the experience was surreal. Highly recommended destination!</p>
<p><img src="/image/banff/image305.jpg" alt=""><br><img src="/image/banff/image303.jpg" alt=""></p>
<p>Another 45 minutes of driving brought me to Athabasca Falls. Unlike other falls in this country, the fall itself was not the attraction; its surreal rock formation was.</p>
<p><img src="/image/banff/image448.jpg" alt=""><br><img src="/image/banff/image449.jpg" alt=""><br><img src="/image/banff/image450.jpg" alt=""></p>
<p>And, finally, following another half an hour of driving, the journey ended in Jasper, a friendly town that spells out everything. I took a picture of a restaurant. You might know what type of restaurant it is.</p>
<p><img src="/image/banff/image441.jpg" alt=""></p>
<p>The town has a town square that looks a bit like Victoria Park. It also has an old, preserved train station that is <em>actually</em> still a train station, with a Greyhound station inside of it.</p>
<p><img src="/image/banff/image442.jpg" alt=""><br><img src="/image/banff/image443.jpg" alt=""></p>
<p>A few minutes outside of town was Maligne Canyon, the #2 destination, according to TripAdvisor. Indeed, it was the second best hike I have ever had. The canyon was deep, and its growth of lichens along the way reminded me that this place has regular, harsh winters.</p>
<p><img src="/image/banff/image451.jpg" alt=""></p>
<p>And, after all that, I was content with my trip. I have had the time of my life. Now, a four-hour drive home (Banff)…</p>
<h1 id="Return-to-Calgary"><a href="#Return-to-Calgary" class="headerlink" title="Return to Calgary"></a>Return to Calgary</h1><p>The dawn of Saturday marked my return to Calgary, where a righteous man in the eyes of the Lord were to marry a woman, also righteous in the eyes of the Lord, but shall both remain anonymous (unless I have the permission to associate with their identities), in holy matrimony. I attended the wedding. Of course, since I have no business posting other people’s faces on the Internet, there shall be no pictures. Here are two pandas without eyes…</p>
<p><img src="/image/banff/image12.jpg" alt=""></p>
<h1 id="The-real-cost"><a href="#The-real-cost" class="headerlink" title="The real cost"></a>The real cost</h1><p>This was the first time I drove in the province of Alberta, and the first time I have ever rented a car. Guess what I did on the first day? Paid too much attention to the speed cameras, and ran a red light. Not sure what that proves.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
  <div class="article-category">
    <a class="article-category-link" href="../../../categories/Personal/">Personal</a>
  </div>

			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/Travel/">Travel</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-Calgary-The-Journey" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2016/Calgary-The-Journey/" class="article-date">
  <time datetime="2016-06-26T23:16:02.000Z" itemprop="datePublished">2016-06-26</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2016/Calgary-The-Journey/">Calgary: The Journey</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>Some time ago, I flew to Calgary for personal business. <a href="http://pason.com/" target="_blank" rel="external">Having been to Calgary before</a>, and having it been the winter at the time, and having it been when I could not drive at the time: it was dreadful. Calgary was remembered as an awful place. I had no family, I had no friends, I had no ways to get around. Hell, I did not even have a proper hat. This summer, I gave the city a second chance.</p>
<p>This was the plane.</p>
<p><img src="/image/banff/image299.jpg" alt=""></p>
<p>The flight arrived late. Having gotten lost at the (ever so familiar) airport, I could not catch the airport bus to the city centre. Thankfully, a righteous man in the eyes of the Lord drove me to the hostel, which was ugly on the outside, as advertised, but also <a href="http://www.wickedhostel.com/" target="_blank" rel="external">wicked</a> inside, as advertised.</p>
<p><img src="/image/banff/image297.jpg" alt=""><br><img src="/image/banff/image227.jpg" alt=""><br><img src="/image/banff/image295.jpg" alt=""></p>
<p>They also had a place for free food; I was a contributor.</p>
<p><img src="/image/banff/image296.jpg" alt=""></p>
<p>In the following morning, after tasting vegemite for the first time, I went out for a city tour. The first stop was the Saddledome (there are apparently many of them, so this is the Scotiabank Saddledome.)</p>
<p><img src="/image/banff/image439.jpg" alt=""></p>
<p>Since it was the morning, and that the Saddledome is a stadium, the place was actually empty.</p>
<p><img src="/image/banff/image292.jpg" alt=""></p>
<p>Outside the Saddledome, many native (“first nations people”) displays were also present. Take this one, for example:</p>
<p><img src="/image/banff/image287.jpg" alt=""></p>
<p>It was a podium of sorts, but on the other side, it says it was the global petroleum show, which might be confusing:</p>
<p><img src="/image/banff/image289.jpg" alt=""></p>
<p>In fact, the entire city was crazy about petroleum. Almost every other thing was about oil. More about that later.</p>
<p><img src="/image/banff/image438.jpg" alt=""><br><img src="/image/banff/image286.jpg" alt=""></p>
<p>Did I say later? Oops, I headed to Heritage Park, and apparently the park was <em>also</em> about oil. It was called the Gasoline Alley.</p>
<h1 id="Heritage-Park"><a href="#Heritage-Park" class="headerlink" title="Heritage Park"></a>Heritage Park</h1><p><img src="/image/banff/image436.jpg" alt=""><br><img src="/image/banff/image435.jpg" alt=""><br><img src="/image/banff/image431.jpg" alt=""></p>
<p>The Gasoline Alley featured a grand display of… gasoline, and gasoline accessories, throughout the history of gasoline.</p>
<p><img src="/image/banff/image428.jpg" alt=""></p>
<p><a href="https://en.wikipedia.org/wiki/Heritage_Park_Historical_Village" target="_blank" rel="external">The Park</a> was about the story of old Western Canada. If you have watched the third Back to the Future movie (and believe in its existence), then it was a bit like that. Classic buildings everywhere, a working railway system that brings guests around the living museum, and a ferry that does a figure 8 inside a reservoir. It was amazing.</p>
<p><img src="/image/banff/image425.jpg" alt=""><br><img src="/image/banff/image424.jpg" alt=""><br><img src="/image/banff/image423.jpg" alt=""><br><img src="/image/banff/image271.jpg" alt=""><br><img src="/image/banff/image264.jpg" alt=""><br><img src="/image/banff/image270.jpg" alt=""><br><img src="/image/banff/image256.jpg" alt=""><br><img src="/image/banff/image248.jpg" alt=""></p>
<p>Again, since the park may well be closed during the Winter, Calgary is essentially no good from September onwards.</p>
<p>One of the things that makes this park special is its living staff; when you enter a building, not only do you get to get in a building, you may also chat with the staff in the building, who pretend to be teachers/priests/policemen/doctors of the time. It may take some time to get used to.</p>
<p><img src="/image/banff/image232.jpg" alt=""><br><img src="/image/banff/image251.jpg" alt=""></p>
<p>There was a ferry that goes nowhere, so I went on it.</p>
<p><img src="/image/banff/image246.jpg" alt=""><br><img src="/image/banff/image242.jpg" alt=""><br><img src="/image/banff/image240.jpg" alt=""><br><img src="/image/banff/image235.jpg" alt=""></p>
<p><img src="/image/banff/image230.jpg" alt=""></p>
<p>To anyone interested, I cannot recommend Heritage Park enough. Although you may have to talk to every single staff to get the most out of the experience, it is open from May onwards, I believe.</p>
<h1 id="Recreating-the-past"><a href="#Recreating-the-past" class="headerlink" title="Recreating the past"></a>Recreating the past</h1><p>The rest of the weekend consisted of exploring the previously explored. I took the CTrain (day passes are ideal) place after place, to relive the past I relished.</p>
<p>The liquor store was still there. Believe me, it was necessary.</p>
<p><img src="/image/banff/image437.jpg" alt=""></p>
<p>Similarly, the A&amp;W that had always cured my hangovers, was also still there.</p>
<p><img src="/image/banff/image281.jpg" alt=""></p>
<p>I had taken many photos during my last visit; some of them were set to be renewed. Here are some before/after pictures from this visit:</p>
<p><img src="/image/IMG_1263.JPG" alt=""><br><img src="/image/banff/image168.jpg" alt=""></p>
<p>Co-op’s logo has changed.</p>
<p><img src="/image/IMG_1264.JPG" alt=""><br><img src="/image/banff/image279.jpg" alt=""></p>
<p>The price of the coffee has also changed. It was also the summer, so the Tim Hortons did not function as a cold shelter like it did last visit.</p>
<p><img src="/image/banff/image276.jpg" alt=""></p>
<h1 id="Around-the-city-in-48-hours"><a href="#Around-the-city-in-48-hours" class="headerlink" title="Around the city in 48 hours"></a>Around the city in 48 hours</h1><p>If you are willing to sacrifice a bit of time, it is possible to tour the city in 48 hours, without a vehicle (which is ironic, considering the CTrain does not run on diesel.) In my case, I went to the Glenbow Museum (which was also oil-focused), Chinatown, the Bow River pathway, and outside the Calgary Zoo.</p>
<h2 id="Glenbow-Museum"><a href="#Glenbow-Museum" class="headerlink" title="Glenbow Museum"></a>Glenbow Museum</h2><p>I have been to the Glenbow museum before; not much has changed. There is no need to return.</p>
<p><img src="/image/banff/image196.jpg" alt=""><br><img src="/image/banff/image173.jpg" alt=""><br><img src="/image/banff/image194.jpg" alt=""><br><img src="/image/banff/image192.jpg" alt=""><br><img src="/image/banff/image188.jpg" alt=""><br><img src="/image/banff/image180.jpg" alt=""><br><img src="/image/banff/image176.jpg" alt=""><br><img src="/image/banff/image175.jpg" alt=""></p>
<h2 id="Chinatown"><a href="#Chinatown" class="headerlink" title="Chinatown"></a>Chinatown</h2><p>Chinatown consists of a cluster of Asian restaurants, which have since turned from Chinese to Vietnamese, and a park called the Sien Lok Park. If you have never been to Sien Lok Park, do try and read the message under the statue there.</p>
<p><img src="/image/banff/image221.jpg" alt=""></p>
<p>This is the Asian beacon:</p>
<p><img src="/image/banff/image201.jpg" alt=""></p>
<p>And this is the inside of a church.</p>
<p><img src="/image/banff/image200.jpg" alt=""></p>
<h2 id="Calgary-Zoo-hike"><a href="#Calgary-Zoo-hike" class="headerlink" title="Calgary Zoo hike"></a>Calgary Zoo hike</h2><p>The zoo would cost me $25, so I did not enter it this time. With that said, you may see the dinosaurs still there from the outside:</p>
<p><img src="/image/banff/image163.jpg" alt=""><br><img src="/image/banff/image160.jpg" alt=""><br><img src="/image/banff/image159.jpg" alt=""><br><img src="/image/banff/image158.jpg" alt=""></p>
<h2 id="Bow-River-pathway"><a href="#Bow-River-pathway" class="headerlink" title="Bow River pathway"></a>Bow River pathway</h2><p>Calgary has beautiful summers. Its extensive pedestrian pathways are testament to it. It makes downtown Toronto look like a dump. (Well, even without comparison, downtown Toronto looks like a dump.)</p>
<p><img src="/image/banff/image220.jpg" alt=""><br><img src="/image/banff/image218.jpg" alt=""><br><img src="/image/banff/image216.jpg" alt=""><br><img src="/image/banff/image214.jpg" alt=""><br><img src="/image/banff/image211.jpg" alt=""><br><img src="/image/banff/image210.jpg" alt=""><br><img src="/image/banff/image209.jpg" alt=""></p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
  <div class="article-category">
    <a class="article-category-link" href="../../../categories/Personal/">Personal</a>
  </div>

			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/Travel/">Travel</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-Writing-Fast-JavaScript" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2016/Writing-Fast-JavaScript/" class="article-date">
  <time datetime="2016-06-22T18:04:54.000Z" itemprop="datePublished">2016-06-22</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2016/Writing-Fast-JavaScript/">Writing Fast JavaScript</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>As a JavaScript user of one of the companies you may or may not have heard of, I am scheduled to give a talk about writing fast and maintainable JavaScript, perhaps by reading off this blog post.<br>However, as many of us may know, <a href="https://www.w3.org/community/webed/wiki/A_Short_History_of_JavaScript" target="_blank" rel="external">JS was created by Brendan Eich in ten days</a>, meant to move monkeys around on the screen (even <a href="https://brendaneich.com/2011/06/new-javascript-engine-module-owner/" target="_blank" rel="external">he said it himself</a>, so you know it’s legit), it is impossible even for a god like Eich to have his cake and eat it too.</p>
<p>This post addresses the <em>fast</em> part of writing fast and maintainable JavaScript.</p>
<h1 id="quot-use-strict-quot"><a href="#quot-use-strict-quot" class="headerlink" title="&quot;use strict&quot;"></a><code>&quot;use strict&quot;</code></h1><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/Strict_mode" target="_blank" rel="external">Using <code>&quot;use strict&quot;</code> removes many run-time checks that would otherwise have considerable performance cost</a>:</p>
<blockquote>
<p>A few strict mode tweaks, plus requiring that user-submitted JavaScript be strict mode code and that it be invoked in a certain manner, substantially reduce the need for those runtime checks.</p>
</blockquote>
<p>This is also one of the few tips here that actually make the code more maintainable, though not by much.</p>
<h1 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h1><p>Function declarations are faster than function expressions. <a href="https://javascriptweblog.wordpress.com/2010/07/06/function-declarations-vs-function-expressions/" target="_blank" rel="external">1</a> <a href="https://jsperf.com/fn-expression-vs-statement" target="_blank" rel="external">2</a> Function declarations are compiled ahead of time.<br>In other words, named functions are faster than anonymous functions. Unless you waste your time assigning a declaration to an expression again.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Do</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"><span class="comment">// Don't</span></span><br><span class="line"><span class="keyword">var</span> foo2 = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// Waste of everyone's time</span></span><br><span class="line"><span class="keyword">var</span> foo4 = <span class="function"><span class="keyword">function</span> <span class="title">foo3</span><span class="params">()</span> </span>&#123;&#125;  <span class="comment">// Quiz 1 (answer below)</span></span><br></pre></td></tr></table></figure>
<p><strong>Quiz 2</strong>: How do you write a declared function in CoffeeScript?</p>
<h2 id="Avoid-Closures"><a href="#Avoid-Closures" class="headerlink" title="Avoid Closures"></a>Avoid Closures</h2><p>Unless you have a reason to, <a href="https://jslinterrors.com/dont-make-functions-within-a-loop" target="_blank" rel="external">avoid making functions</a> or <a href="http://stackoverflow.com/questions/8228281/what-is-the-function-construct-in-javascript" target="_blank" rel="external">IIFEs</a>, especially in a loop.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// Do</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">eventHandler</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Don't, unless you have a reason to</span></span><br><span class="line">    &#125;());</span><br><span class="line">    </span><br><span class="line">    dom.addEvent(eventHandler);  <span class="comment">// Do</span></span><br><span class="line">    </span><br><span class="line">    dom.addEvent(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Don't    </span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Similarly-avoid-nesting-functions"><a href="#Similarly-avoid-nesting-functions" class="headerlink" title="Similarly, avoid nesting functions"></a>Similarly, avoid nesting functions</h2><p>Even if you use function declarations like this post said earlier, it doesn’t mean much if you do <em>a lot</em> in those function declarations. For example, if you call a function like this:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar1</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar2</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar3</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://reaktor.com/blog/javascript-performance-fundamentals-make-bluebird-fast/" target="_blank" rel="external">Separate instances of <code>bar1</code>, <code>bar2</code>, and <code>bar3</code> will be created every time <code>foo()</code> is called, whether of not those functions are used at all</a>. So, to write perfectly fast code, you should write:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar1</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar2</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar3</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(Sometimes, this is not possible.)</p>
<h2 id="Avoid-arguments"><a href="#Avoid-arguments" class="headerlink" title="Avoid arguments"></a>Avoid <code>arguments</code></h2><p><a href="https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#2-unsupported-syntax" target="_blank" rel="external">Using arguments improperly</a> may render a function unoptimisable. Assigning a value to any arguments where a function uses <code>arguments</code> will stop optimisation:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        b = <span class="number">5</span>;  <span class="comment">// Don't (modify an argument when you are in an argument condition)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>An easy way to work around this is to assign it elsewhere:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> b2 = b;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        b2 = <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(But how about just not modifying the argument in the first place, you degenerate?)</p>
<p>###</p>
<h2 id="Don’t-be-clever"><a href="#Don’t-be-clever" class="headerlink" title="Don’t be clever"></a>Don’t be clever</h2><p>If you <a href="http://stackoverflow.com/a/23925102/1558430" target="_blank" rel="external">try to be clever</a>, <a href="https://github.com/twbs/bootstrap/issues/3057#issuecomment-5135512" target="_blank" rel="external">Crockford will kill you.</a> These are function expressions turned into IIFEs through forced evaluation:</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Don't</span></span><br><span class="line">!<span class="function"><span class="keyword">function</span><span class="params">()</span><span class="comment">&#123;&#125;</span><span class="params">()</span>;</span>  <span class="comment">// =&gt; true</span></span><br><span class="line">~<span class="function"><span class="keyword">function</span><span class="params">()</span><span class="comment">&#123;&#125;</span><span class="params">()</span>;</span> <span class="comment">// =&gt; -1</span></span><br><span class="line">+<span class="function"><span class="keyword">function</span><span class="params">()</span><span class="comment">&#123;&#125;</span><span class="params">()</span>;</span> <span class="comment">// =&gt; NaN</span></span><br><span class="line">-<span class="function"><span class="keyword">function</span><span class="params">()</span><span class="comment">&#123;&#125;</span><span class="params">()</span>;</span>  <span class="comment">// =&gt; NaN</span></span><br></pre></td></tr></table></figure>
<p>Doing these stupid things, as opposed to using a conventional IIFE, has no performance gains.</p>
<p><strong>Quiz 3</strong>: What does CoffeeScript turn this into?</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">foo</span> = <span class="params">()</span> -&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h2><p>Don’t be clever. Each recursion introduces a stack. The higher the stack, the slower the function.<br><a href="http://stackoverflow.com/questions/23260390/node-js-tail-call-optimization-possible-or-not" target="_blank" rel="external">Don’t rely on TCO. As of now, pretend it does not exist.</a></p>
<h2 id="Prototypes"><a href="#Prototypes" class="headerlink" title="Prototypes"></a>Prototypes</h2><p>To be fast, you have to be ugly. <a href="https://developers.google.com/speed/articles/optimizing-javascript" target="_blank" rel="external">Prototypes are best put outside the constructor.</a> </p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Do</span></span><br><span class="line"><span class="keyword">var</span> Bar = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">Bar.prototype.foo = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Don't</span></span><br><span class="line"><span class="keyword">var</span> Bar = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.foo = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Avoid-calling-the-same-function-with-multiple-types-of-arguments"><a href="#Avoid-calling-the-same-function-with-multiple-types-of-arguments" class="headerlink" title="Avoid calling the same function with multiple types of arguments"></a><a href="http://mythbusters.js.org/v8-tips/monomorphic.html" target="_blank" rel="external">Avoid calling the same function with multiple types of arguments</a></h2><p>Consider a function <code>add()</code>:</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">add</span> (x, y) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">x</span> + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If you call <code>add(1, 2)</code> and <code>add(3, 4)</code>, the same function is used.<br>If you then call <code>add(&#39;a&#39;, &#39;b&#39;)</code>, then “the + in add becomes polymorphic”, which hurts performance.</p>
<h1 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h1><h2 id="Avoid-Classes"><a href="#Avoid-Classes" class="headerlink" title="Avoid Classes"></a>Avoid Classes</h2><p>Classes are currently transpiled into simple functions, even in V8 itself. They are syntactic sugar, currently with no performance benefits. It is best to avoid classes for now.</p>
<h2 id="Don’t-assign-random-attributes-to-instances"><a href="#Don’t-assign-random-attributes-to-instances" class="headerlink" title="Don’t assign random attributes to instances"></a>Don’t assign random attributes to instances</h2><p>Apparently, if you assign an unknown attribute to a class with a list of known attributes on construction, then <a href="http://www.html5rocks.com/en/tutorials/speed/v8/" target="_blank" rel="external">the classes diverge</a>, taking time:</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    constructor (x, y) &#123;</span><br><span class="line">        <span class="built_in">this</span>.x = x;</span><br><span class="line">        <span class="built_in">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="type">Point</span>(<span class="number">11</span>, <span class="number">22</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="type">Point</span>(<span class="number">33</span>, <span class="number">44</span>);</span><br><span class="line"><span class="comment">// At this point, p1 and p2 have a shared hidden class</span></span><br><span class="line">p2.z = <span class="number">55</span>;</span><br><span class="line"><span class="comment">// warning! p1 and p2 now have different hidden classes!</span></span><br></pre></td></tr></table></figure>
<h1 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h1><h2 id="Don’t-use-global-variables"><a href="#Don’t-use-global-variables" class="headerlink" title="Don’t use global variables"></a>Don’t use global variables</h2><p>Global variables are never garbage-collected.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> WILLET = &#123; ... &#125;;  <span class="comment">// No</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Start of module</span></span><br><span class="line"><span class="keyword">var</span> PAYMENTS = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// No</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Start of module</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="comment">// Yes</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h2 id="Place-variables-in-the-innermost-scope"><a href="#Place-variables-in-the-innermost-scope" class="headerlink" title="Place variables in the innermost scope"></a>Place variables in the innermost scope</h2><p><img src="/image/js4_0401.gif" alt=""></p>
<p>Declaring variables where they are needed helps with garbage collection. <a href="http://archive.oreilly.com/pub/a/server-administration/excerpts/even-faster-websites/writing-efficient-javascript.html" target="_blank" rel="external">Variable read time is also faster.</a> (The term may be <a href="http://docstore.mik.ua/orelly/webprog/jscript/ch04_07.htm" target="_blank" rel="external">“variable scope resolution”</a>.)</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">function</span> () &#123;</span><br><span class="line">    (<span class="name">function</span> () &#123;</span><br><span class="line">        var i = <span class="number">0</span><span class="comment">;  // Do</span></span><br><span class="line">        i++;</span><br><span class="line">        console.log(<span class="name">i</span>)<span class="comment">;</span></span><br><span class="line">    &#125;())<span class="comment">;</span></span><br><span class="line">&#125;())<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">(<span class="name">function</span> () &#123;</span><br><span class="line">    var i = <span class="number">0</span><span class="comment">;  // Don't</span></span><br><span class="line">    (<span class="name">function</span> () &#123;</span><br><span class="line">        i++;</span><br><span class="line">        console.log(<span class="name">i</span>)<span class="comment">;</span></span><br><span class="line">    &#125;())<span class="comment">;</span></span><br><span class="line">&#125;())<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>Well, that is the theory, anyway. If you leak any of your variables through events and callbacks, then none of the scopes are garbage collected.</p>
<h2 id="Don’t-use-delete"><a href="#Don’t-use-delete" class="headerlink" title="Don’t use delete"></a>Don’t use <code>delete</code></h2><p><code>delete</code> does nothing useful related to memory in JavaScript.</p>
<h2 id="foo-null-does-nothing"><a href="#foo-null-does-nothing" class="headerlink" title="foo = null does nothing"></a><code>foo = null</code> does nothing</h2><p>Do not assign <code>null</code> to any variable with the intention of allowing it to be garbage-collected. If the variable is no longer accessible in any scope, it will be garbage collected automatically.</p>
<h2 id="Compare-with-the-fastest-possible-operator"><a href="#Compare-with-the-fastest-possible-operator" class="headerlink" title="Compare with the fastest possible operator"></a><a href="http://mythbusters.js.org/workflow/boolean-conditions.html" target="_blank" rel="external">Compare with the fastest possible operator</a></h2><p>Since this is about speed, choose whichever one you want here.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">array</span>.length === <span class="number">0</span>  <span class="comment">// faster</span></span><br><span class="line"><span class="built_in">array</span>.length &lt;= <span class="number">0</span>  <span class="comment">// slower</span></span><br></pre></td></tr></table></figure>
<h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><p>Arrays are actually objects, so using them does not save you any memory. However, <a href="https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/" target="_blank" rel="external">there are speed differences how an array is constructed</a>:</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];  <span class="comment">// Do</span></span><br><span class="line"></span><br><span class="line">var b = new Array();  <span class="comment">// Don't</span></span><br><span class="line">b.push(<span class="number">1</span>);</span><br><span class="line">b.push(<span class="number">2</span>);</span><br><span class="line">b.push(<span class="number">3</span>);</span><br><span class="line">b.push(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">var c = new Array(<span class="number">4</span>);  <span class="comment">// Don't do pre-allocate for large numbers</span></span><br><span class="line">c.push(<span class="number">1</span>);</span><br><span class="line">c.push(<span class="number">2</span>);</span><br><span class="line">c.push(<span class="number">3</span>);</span><br><span class="line">c.push(<span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<p>Defined array literals can also help the compiler understand when not to optimise one:</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var<span class="built_in"> array </span>= [ 77, 88, 0.5, true ]  // Do</span><br><span class="line"></span><br><span class="line">var<span class="built_in"> array </span>= []</span><br><span class="line">array[0] = 77</span><br><span class="line">array[1] = 88</span><br><span class="line">array[2] = 0.5  // I thought this was supposed to be an<span class="built_in"> array </span>of integers, oh no. Will convert entire<span class="built_in"> array </span>to a more generic Number array</span><br><span class="line">array[3] = true // I thought this was supposed to be an<span class="built_in"> array </span>of integers, oh no. Will convert entire<span class="built_in"> array </span>to a more generic Object array</span><br></pre></td></tr></table></figure>
<h3 id="Don’t-muck-about-with-Arrays"><a href="#Don’t-muck-about-with-Arrays" class="headerlink" title="Don’t muck about with Arrays"></a>Don’t muck about with Arrays</h3><p>If an array has something other than <code>0</code> as its first key, its speed is 2x slower:</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a = [];</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1</span>;  <span class="comment">// Ok</span></span><br><span class="line"></span><br><span class="line">var b = [];</span><br><span class="line">b[<span class="number">1</span>] = <span class="number">1</span>;  <span class="comment">// No, start with 0</span></span><br><span class="line">b['foo'] = <span class="number">1</span>;  <span class="comment">// No</span></span><br></pre></td></tr></table></figure>
<h3 id="Don’t-pre-allocate-large-Arrays"><a href="#Don’t-pre-allocate-large-Arrays" class="headerlink" title="Don’t pre-allocate large Arrays"></a>Don’t pre-allocate large Arrays</h3><p>Pre-allocating an array more than 64k elements is a waste of time.</p>
<h3 id="shift-is-slower-than-pop"><a href="#shift-is-slower-than-pop" class="headerlink" title="shift is slower than pop"></a><a href="http://mythbusters.js.org/array/pop-or-shift.html" target="_blank" rel="external"><code>shift</code> is slower than <code>pop</code></a></h3><p><code>pop()</code> simply subtracts 1 from the array’s length, making it a lot faster than <code>shift()</code>, which causes all array items to be readdressed.</p>
<h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2><p><code>foo.bar</code> is faster than <code>foo[&#39;bar&#39;]</code>, but <a href="http://www.slideshare.net/nzakas/writing-efficient-javascript/44-It_doesnt_matter" target="_blank" rel="external">only in Safari</a>.</p>
<p>Since access takes time, retain your references:</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Do</span></span><br><span class="line">var a = foo.<span class="built_in">bar</span>.baz.a,</span><br><span class="line">    b = foo.<span class="built_in">bar</span>.baz.b;</span><br><span class="line">foo(a, b, a, b);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Don't</span></span><br><span class="line">foo(foo.<span class="built_in">bar</span>.baz.a, foo.<span class="built_in">bar</span>.baz.b, foo.<span class="built_in">bar</span>.baz.a, foo.<span class="built_in">bar</span>.baz.b);</span><br></pre></td></tr></table></figure>
<h2 id="Errors"><a href="#Errors" class="headerlink" title="Errors"></a>Errors</h2><p>Always <code>throw new Error(&#39;a string&#39;)</code>.</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Error</span>(<span class="comment">'a string')  // Do</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">Error</span>(<span class="comment">'a string')  // Avoid</span></span><br><span class="line"><span class="keyword">throw</span> <span class="comment">'a string'  // Don't</span></span><br></pre></td></tr></table></figure>
<p><a href="http://stackoverflow.com/a/11502074/1558430" target="_blank" rel="external">Don’t just <code>throw Error(&#39;a string&#39;)</code>, or <code>throw &#39;a string&#39;</code>.</a> The former is just for consistency, but the second one is unforgivable. Errors have <code>.message</code>; strings don’t.<br>Of course, because this is JavaScript we are talking about, <a href="http://jsperf.com/throw-error-vs-string-perf/4" target="_blank" rel="external">throwing a string is faster than throwing Error objects.</a></p>
<h1 id="Flow-control"><a href="#Flow-control" class="headerlink" title="Flow control"></a>Flow control</h1><h2 id="Conditionals"><a href="#Conditionals" class="headerlink" title="Conditionals"></a>Conditionals</h2><p>For the pure sake of being fast, <a href="http://archive.oreilly.com/pub/a/server-administration/excerpts/even-faster-websites/writing-efficient-javascript.html" target="_blank" rel="external">follow these rules</a>, whenever the logic applies:</p>
<ul>
<li>Use <code>if</code> if there are no more than two conditions.</li>
<li>Use <code>switch</code> if there are between three to ten conditions. (See also: <a href="https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#4-switch-case" target="_blank" rel="external">switches not optimisable beyond 128 branches in older engines</a>)</li>
<li>Use a map (key lookup) if there are more than ten conditions.</li>
</ul>
<h2 id="Loops"><a href="#Loops" class="headerlink" title="Loops"></a>Loops</h2><h3 id="For-loops"><a href="#For-loops" class="headerlink" title="For loops"></a>For loops</h3><p>For critical loops for which you know its bounds, consider unrolling them.</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">for <span class="comment">(var i = 0; i &lt; 10; i++)</span> &#123;</span><br><span class="line">    foo<span class="comment">(i)</span>;  <span class="comment">// Do</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo<span class="comment">(0)</span>;  <span class="comment">// Worth a shot</span></span><br><span class="line">foo<span class="comment">(1)</span>;</span><br><span class="line">foo<span class="comment">(2)</span>;</span><br><span class="line">foo<span class="comment">(3)</span>;</span><br><span class="line">foo<span class="comment">(4)</span>;</span><br><span class="line">foo<span class="comment">(5)</span>;</span><br><span class="line">foo<span class="comment">(6)</span>;</span><br><span class="line">foo<span class="comment">(7)</span>;</span><br><span class="line">foo<span class="comment">(8)</span>;</span><br><span class="line">foo<span class="comment">(9)</span>;</span><br></pre></td></tr></table></figure>
<h4 id="Don’t-loop-backwards"><a href="#Don’t-loop-backwards" class="headerlink" title="Don’t loop backwards"></a><a href="https://gamealchemist.wordpress.com/2013/05/01/lets-get-those-javascript-arrays-to-work-fast/" target="_blank" rel="external">Don’t loop backwards</a></h4><p>According to <a href="https://gamealchemist.wordpress.com/2013/05/01/lets-get-those-javascript-arrays-to-work-fast/" target="_blank" rel="external">source 15</a>, although looping backwards (<code>while (i--)</code> sort of thing) saves two CPU instructions, it causes more branch misses than you would like.</p>
<h3 id="For-in"><a href="#For-in" class="headerlink" title="For-in"></a>For-in</h3><p>Avoid the <code>for-in</code> loop. Then again, sometimes you need the for-in loop. I am just here to tell you it is slow.</p>
<p><a href="https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#51-the-key-is-not-a-local-variable" target="_blank" rel="external">The <code>for-in</code> loop cannot be optimised by any JS engine if the key is not in the exact scope.</a> Take this, for example:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nonLocalKey1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;  <span class="comment">// key from outside</span></span><br><span class="line">        <span class="keyword">return</span> key;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The solution is… not to use for-in loops.</p>
<h1 id="Libraries"><a href="#Libraries" class="headerlink" title="Libraries"></a>Libraries</h1><h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a><code>Math</code></h2><p>Although technically not a library, <code>Math</code> is an object that can be very slow, depending on what you do with it.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.exp(<span class="number">1</span>)  <span class="comment">// Slow</span></span><br><span class="line"><span class="built_in">Math</span>.E  <span class="comment">// Fast</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Math</span>.log(<span class="number">2</span>)  <span class="comment">// Slow</span></span><br><span class="line"><span class="built_in">Math</span>.LN2  <span class="comment">// Fast</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Math</span>.floor(<span class="number">2.70</span>)  <span class="comment">// 2</span></span><br><span class="line">~~<span class="number">-2.70</span>  <span class="comment">// Fast floor for everything except NaN</span></span><br></pre></td></tr></table></figure>
<h2 id="Date"><a href="#Date" class="headerlink" title="Date"></a><code>Date</code></h2><p><code>Date.now()</code>, being a static method, is faster than <code>(new Date).getTime()</code>.</p>
<h2 id="Don’t-load-multiple-versions-of-the-same-library"><a href="#Don’t-load-multiple-versions-of-the-same-library" class="headerlink" title="Don’t load multiple versions of the same library"></a><strong>Don’t load multiple versions of the same library</strong></h2><p><a href="/2016/Ionic-2-seems-nice/">Browserify and Webpack <em>et al.</em></a> allow you to pack multiple libraries into your project, essentially doing this bullshit:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"foo.1.2.3.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"foo.1.2.4.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"foo.1.2.5.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>If you won’t do that yourself, why would you do it with Browserify? <a href="http://stackoverflow.com/questions/27931982/how-do-i-prevent-browserify-from-including-multiple-versions-of-sub-dependencies" target="_blank" rel="external">It comes with a dedupe thing that might or might not work</a>, and <code>npm dedupe</code> has a chance of breaking everything, so good luck with Ionic 2.</p>
<h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h2><p>jQuery is a great library that sorts everything out for you, from browser quirks, requests, promises, to animations without CSS. The cost of that is performance, so this post will recommend you not to use it.<br>If you must use jQuery, see if you need to support IE6, 7, and 8. If not, jQuery 3 took out the support code for them, making it faster than jQuery 1.x to run.</p>
<h2 id="Angular"><a href="#Angular" class="headerlink" title="Angular"></a>Angular</h2><h3 id="Avoid-using-useless-functions"><a href="#Avoid-using-useless-functions" class="headerlink" title="Avoid using useless functions"></a>Avoid using useless functions</h3><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> thing === <span class="string">'undefined'</span>  <span class="comment">// Do</span></span><br><span class="line">thing === <span class="literal">undefined</span>  <span class="comment">// Better, if thing is a variable for sure</span></span><br><span class="line">angular.isUndefined(thing)  <span class="comment">// Don't</span></span><br></pre></td></tr></table></figure>
<h3 id="Consider-using-lightweight-functions-instead"><a href="#Consider-using-lightweight-functions-instead" class="headerlink" title="Consider using lightweight functions instead"></a>Consider using lightweight functions instead</h3><p>If you look at the <a href="https://github.com/angular/angular.js/blob/9360aa2d27fd4b35c377ecff3eea2a656ecf7114/src/Angular.js#L954" target="_blank" rel="external">angular source for <code>angular.equals</code></a>, you can see that it supports recursive comparison of objects and arrays, so this works:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">angular.equals(<span class="string">[[1], [2]]</span>, <span class="string">[[1], [2]]</span>)  // <span class="literal">true</span></span><br><span class="line"><span class="string">[[1], [2]]</span> == <span class="string">[[1], [2]]</span>  // <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>It also decides which dates, scopes, and functions are considered equal.</p>
<p>That is a valid use case for <code>angular.equals</code>. However, for any primitive data type, you should use <code>===</code> instead, saving even the function call.</p>
<h3 id="Don’t-use-watch"><a href="#Don’t-use-watch" class="headerlink" title="Don’t use $watch"></a>Don’t use <code>$watch</code></h3><p><code>$watch</code> is awful. It is virtually untestable, and it is inefficient as a way to do things. Here are some things you might have done with <code>$watch</code>:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// No</span></span><br><span class="line">$scope.$watch(<span class="string">'something'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ($scope.something === some state) &#123;</span><br><span class="line">        changeTheValueOf($scope.somethingElse);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">&lt;div ng-<span class="keyword">if</span>=<span class="string">"somethingElse"</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Yes (this is a one-way digest)</span></span><br><span class="line">$scope.isSomethingElse = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $scope.something === some state;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;div ng-<span class="keyword">if</span>=<span class="string">"isSomethingElse()"</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// No</span></span><br><span class="line">$scope.$watch(<span class="string">'something'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    $scope.somethingElse = foo($scope...);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Yes</span></span><br><span class="line">&lt;input ng-model=<span class="string">"something"</span> ng-change=<span class="string">"doFoo()"</span>&gt;&lt;...&gt;</span><br></pre></td></tr></table></figure>
<h3 id="ng-bind-just-once"><a href="#ng-bind-just-once" class="headerlink" title="ng-bind just once"></a><code>ng-bind</code> just once</h3><p><a href="http://www.atatus.com/blog/lets-write-faster-angularjs-app/" target="_blank" rel="external"><code>::</code> mean “once” in AngularJS 1.3 and up.</a><br><a href="https://ng-perf.com/" target="_blank" rel="external"><code>ng-bind</code> is twice as fast as &#123;&#123;<code>expression</code>}}</a>. Use <code>ng-bind</code> instead.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Do --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"::item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Don't --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&amp;#123;&amp;#123; ::item &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Do --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">"item in ::items"</span> <span class="attr">ng-bind</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Place-methods-in-the-smallest-possible-“scope”"><a href="#Place-methods-in-the-smallest-possible-“scope”" class="headerlink" title="Place methods in the smallest possible “scope”"></a>Place methods in the smallest possible “scope”</h3><p>Don’t make “global” controller methods. They are both slow and hard to destroy.</p>
<h3 id="Disable-debugging"><a href="#Disable-debugging" class="headerlink" title="Disable debugging"></a>Disable debugging</h3><p><a href="https://www.toptal.com/angular-js/top-18-most-common-angularjs-developer-mistakes" target="_blank" rel="external">A common mistake that slows down the app.</a></p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$compileProvider.debugInfoEnabled(<span class="literal">false</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<h3 id="Avoid-log"><a href="#Avoid-log" class="headerlink" title="Avoid $log"></a>Avoid <code>$log</code></h3><p>You may notice that, even if you set <code>debugInfoEnabled(false)</code>, that <code>adb logcat</code> still contains warnings and errors. Actual errors are cool and all, but <a href="http://stackoverflow.com/questions/12996129/memory-leak-when-logging-complex-objects" target="_blank" rel="external">if you log an object, it cannot be garbage-collected</a>. For this reason, avoid <code>$log</code>ging objects, or better, avoid logging useless things.</p>
<h2 id="Underscore-vs-Lodash"><a href="#Underscore-vs-Lodash" class="headerlink" title="Underscore vs Lodash"></a>Underscore vs Lodash</h2><p>Lodash is a larger, yet <a href="http://filimanjaro.com/blog/2014/introducing-lazy-evaluation/" target="_blank" rel="external">faster</a> fork of underscore. So, for faster code, use lodash.</p>
<h3 id="forEach-vs-each-vs-angular-forEach"><a href="#forEach-vs-each-vs-angular-forEach" class="headerlink" title="[].forEach vs _.each([]) vs angular.forEach([])"></a><code>[].forEach</code> vs <code>_.each([])</code> vs <code>angular.forEach([])</code></h3><p>You may find that <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank" rel="external"><code>[].forEach</code> exists</a>. If you have no regard for browser compatibility, you may use it. Otherwise, <code>_.each</code> is faster than the other two, <a href="http://stackoverflow.com/a/18884620/1558430" target="_blank" rel="external">with caveats</a>.</p>
<h3 id="Lazy-evaluation"><a href="#Lazy-evaluation" class="headerlink" title="Lazy evaluation"></a><a href="http://filimanjaro.com/blog/2014/introducing-lazy-evaluation/" target="_blank" rel="external">Lazy evaluation</a></h3><p>Using lodash in a functional manner allows certain <code>map</code> and <code>filter</code> operations to be lazy-evaluated. It has some performance benefits when there is a <code>take()</code> involved.</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">_</span>(phoneNumbers).map(<span class="keyword">String</span>).filter(contains55).take(<span class="number">100</span>);  <span class="comment">// Do</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Don't</span></span><br><span class="line"><span class="literal">_</span>.take(<span class="literal">_</span>.each(phoneNumbers, <span class="function"><span class="keyword">function</span> </span>(phoneNumber) &#123;</span><br><span class="line">    <span class="keyword">if</span> (contains55(phoneNumber)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">String</span>(phoneNumber);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;), <span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<h1 id="Profiling"><a href="#Profiling" class="headerlink" title="Profiling"></a>Profiling</h1><p>Left for another post.</p>
<h2 id="Debuggers"><a href="#Debuggers" class="headerlink" title="Debuggers"></a>Debuggers</h2><h3 id="Don’t-leave-in-debugger-not-even-once"><a href="#Don’t-leave-in-debugger-not-even-once" class="headerlink" title="Don’t leave in debugger, not even once"></a>Don’t leave in <code>debugger</code>, not even once</h3><p>If you leave in <code>debugger;</code> somewhere in the function, even like this:</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="keyword">debugger</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then <a href="https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#2-unsupported-syntax" target="_blank" rel="external">V8 will not optimise the entire function</a>.</p>
<h1 id="Answers"><a href="#Answers" class="headerlink" title="Answers"></a>Answers</h1><h2 id="Quiz-1"><a href="#Quiz-1" class="headerlink" title="Quiz 1"></a>Quiz 1</h2><p>You can’t</p>
<h2 id="Quiz-2"><a href="#Quiz-2" class="headerlink" title="Quiz 2"></a>Quiz 2</h2><p><code>var foo4 = function foo3() {}</code> generates <code>foo3</code> and <code>foo4</code> that are both the same function, or in the case of IE (8 and under?), <a href="http://kiro.me/blog/nfe_dilemma.html" target="_blank" rel="external">two copies of the function</a> (<code>foo3 !== foo4</code>). </p>
<h2 id="Quiz-3"><a href="#Quiz-3" class="headerlink" title="Quiz 3"></a>Quiz 3</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo;</span><br><span class="line">foo = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;&#125;;</span><br></pre></td></tr></table></figure>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/JavaScript/">JavaScript</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-Tuning-Android-IO-Schedulers" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2016/Tuning-Android-IO-Schedulers/" class="article-date">
  <time datetime="2016-06-10T14:52:25.000Z" itemprop="datePublished">2016-06-10</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2016/Tuning-Android-IO-Schedulers/">Tuning Android IO Schedulers</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>If <a href="http://appleinsider.com/articles/13/06/18/googles-nexus-7-tablets-dying-early-possibly-due-to-cheap-memory" target="_blank" rel="external">for whatever reason</a> you feel like you should tune your Android device’s IO scheduler, despite it <a href="http://betanews.com/2014/11/21/android-5-0-lollipop-encryption-severely-impacts-performance/" target="_blank" rel="external">rarely lags</a>, then <a href="http://cromwell-intl.com/linux/performance-tuning/disks.html" target="_blank" rel="external">this guide</a> is for you. Otherwise, the cheatsheet below might be more appropriate.</p>
<p>This post does not apply to you and/or your device.</p>
<h1 id="First-choice-ROW"><a href="#First-choice-ROW" class="headerlink" title="First choice: ROW"></a>First choice: <a href="http://forum.xda-developers.com/showthread.php?t=1558153" target="_blank" rel="external">ROW</a></h1><blockquote>
<p>ROW stands for “READ Over WRITE” which is the main requests dispatch policy of this algorithm. The ROW IO scheduler was developed with the mobile devices needs in mind. In mobile devices we favor user experience upon everything else,thus we want to give READ IO requests as much priority as possible. (…)</p>
</blockquote>
<p>I have never had a problem with ROW. If you don’t have ROW available from the kernel, maybe…</p>
<h1 id="Second-choice-Deadline"><a href="#Second-choice-Deadline" class="headerlink" title="Second choice: Deadline"></a>Second choice: <a href="http://cromwell-intl.com/linux/performance-tuning/disks.html" target="_blank" rel="external">Deadline</a></h1><p>With separate read and write <a href="https://en.wikipedia.org/wiki/Priority_queue" target="_blank" rel="external">priority queues</a>, Deadline also gives read a higher priority. You might need to tune the behaviour to favour read even more, however.</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fifo_batch</span> = <span class="number">2</span></span><br><span class="line"><span class="attr">front_merges</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">read_expire</span> = <span class="number">100</span></span><br><span class="line"><span class="attr">write_expire</span> = <span class="number">5000</span></span><br><span class="line"><span class="attr">writes_starved</span> = <span class="number">10</span></span><br></pre></td></tr></table></figure>
<h1 id="Default-Last-resort-CFQ"><a href="#Default-Last-resort-CFQ" class="headerlink" title="Default / Last resort: CFQ"></a>Default / Last resort: CFQ</h1><p>Processes can have an IO priority. The scheduler is a bit more for rotating disks than it is for solid state memory.</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fifo_expire_async</span> = <span class="number">100</span></span><br><span class="line"><span class="attr">fifo_expire_sync</span> = <span class="number">100</span></span><br><span class="line"><span class="attr">slice_idle</span> = <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h1 id="Last-resort-NOOP"><a href="#Last-resort-NOOP" class="headerlink" title="Last resort: NOOP"></a>Last resort: NOOP</h1><p>Leaves it to the IO controller. It might be beneficial to encrypted devices, but I personally see more lags here and there.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/Android/">Android</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-So-you-want-to-use-the-exclamation-mark" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2016/So-you-want-to-use-the-exclamation-mark/" class="article-date">
  <time datetime="2016-06-08T23:00:52.000Z" itemprop="datePublished">2016-06-08</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2016/So-you-want-to-use-the-exclamation-mark/">So you want to use the exclamation mark</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<blockquote>
<p><a href="http://ggsymbols.weebly.com/about-fitzgerald.html" target="_blank" rel="external">“Cut out all these exclamation points. An exclamation point is like laughing at your own joke.”</a> - F. Scott Fitzgerald</p>
</blockquote>
<p>There is absolutely no place for the exclamation mark, except if you are quoting someone else. These uses of the exclamation mark are expressly prohibited:</p>
<ul>
<li>You are quoting yourself.</li>
<li>You are composing a sentence.</li>
<li><a href="https://www.reddit.com/r/pics/comments/4n6n51/the_ingredient_list_on_this_rosewater_is_the/d41fkc4" target="_blank" rel="external">You are exclaiming yourself.</a></li>
<li>You are generating strings for an app.</li>
<li>You are trying to be friendly by yelling everything.</li>
<li>You are trying to make a point by yelling everything.</li>
</ul>
<p>In conclusion, please make sure you never use the exclamation mark for any reason. There are no exceptions!</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../tags/Linguistics/">Linguistics</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="page/2/">2</a><a class="extend next" rel="next" href="page/2/">Next &raquo;</a>
    </nav>
  


    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:blog.ohai.ca">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/">Brian&#39;s Blog</a>
	</h1>
	<span class="copyright">
		&copy; 2020 Brian<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<script src="../../../js/script.js"></script>
  </div>

  <script type="text/javascript">
    //<![CDATA[
    var sc_project=4446854;
    var sc_invisible=0;
    var sc_security="74785e80";
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write(
      "<sc"+"ript type='text/javascript' src='" +
      scJsHost +
      "statcounter.com/counter/counter_xhtml.js'></" +
      "script>"
    );
    //]]>
  </script>
  <noscript>
    <img style="display: none"
         src="http://c.statcounter.com/4446854/0/74785e80/0/" />
  </noscript><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>

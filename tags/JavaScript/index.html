<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Tag: JavaScript | Brian&#39;s Blog</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="Meow">
<meta property="og:type" content="website">
<meta property="og:title" content="Brian's Blog">
<meta property="og:url" content="https://blog.ohai.ca/tags/JavaScript/index.html">
<meta property="og:site_name" content="Brian's Blog">
<meta property="og:description" content="Meow">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Brian's Blog">
<meta name="twitter:description" content="Meow">
  
    <link rel="alternative" href="/atom.xml" title="Brian&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="../../css/style.css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/">Brian&#39;s Blog</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			<li><a href="/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.ohai.ca"></form>
	</div>
</header>
    <div id="main">
      
  
    <article id="post-Lesser-known-console-methods" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/Lesser-known-console-methods/" class="article-date">
  <time datetime="2019-05-13T17:43:48.000Z" itemprop="datePublished">2019-05-13</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/Lesser-known-console-methods/">Lesser-known console methods</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<ul>
<li><code>console.assert(true, &#39;This text will never be displayed&#39;);</code></li>
<li><code>console.dir(object) // contents may change as code executes</code></li>
<li><code>console.group() // starts a group (groupCollapsed starts a collapsed group)</code></li>
<li><code>console.groupEnd() // ends a group</code></li>
<li><code>console.table(objOfObjs, listOfKeys) // prints out a table of these things</code></li>
</ul>
<p><a href="http://www.mitchrobb.com/chromes-console-api-greatest-hits/" target="_blank" rel="external">Source</a></p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="">JavaScript</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-I-wrote-a-git-trends-script" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/I-wrote-a-git-trends-script/" class="article-date">
  <time datetime="2019-04-27T22:59:27.000Z" itemprop="datePublished">2019-04-27</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/I-wrote-a-git-trends-script/">I wrote a git trends script</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I made a thing that shows me a git repository’s <em>code survival rate by author over time</em>.</p>
<p>There are many types of graphs out there already. <a href="https://github.com/facebook/react/graphs/contributors" target="_blank" rel="external">GitHub has “contributors” graphs</a></p>
<p><img src="/image/Screenshot_20190427_213524.png" alt=""></p>
<p><a href="http://gitstats.sourceforge.net/" target="_blank" rel="external"><code>gitstats</code></a> has similar ones</p>
<p><img src="/image/Screenshot_20190427_214231.png" alt=""></p>
<p><a href="https://github.com/IonicaBizau/git-stats" target="_blank" rel="external"><code>git-stats</code></a> (note the hyphen) has even crazier ones</p>
<p><img src="/image/687474703a2f2f692e696d6775722e636f6d2f50704d306933762e706e67.png" alt=""></p>
<p>But none of them really do what I want: I want to see <em>how much of the code I wrote survived years of other people’s refactoring</em>. Simply querying through your additions/deletions will not give you this insight—it just tells you whether or not you like coding.</p>
<p>I think it is something worth looking at, because <strong>if my code is good, then it “just works” and is never touched. Alternatively, my code is <em>so bad</em> that no one dares to touch it</strong>, and I want to know if either of these is the case.</p>
<p>Anyway, here’s the chart (I called the tool <code>git-trends</code>).</p>
<p><img src="/image/git-trends.png" alt=""></p>
<p>(labels omitted on purpose)</p>
<p>Lessons learned:</p>
<ol>
<li>I am a terrible programmer and a terrible person (I said I would go meet my friend but didn’t).</li>
<li>I learned how to set up VS Code with the intention to transition from PyCharm/WebStorm (because I’m either cheap or broke).<br>I ended up just throwing <a href="https://marketplace.visualstudio.com/items?itemName=k--kato.intellij-idea-keybindings" target="_blank" rel="external">IntelliJ IDEA Keybindings</a> onto it (with modifications), as well as features I used in PyCharm/WebStorm, such as <a href="https://marketplace.visualstudio.com/items?itemName=batisteo.vscode-django" target="_blank" rel="external">Django</a>, <a href="https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens" target="_blank" rel="external">GitLens aka Annotate</a>.</li>
<li>You cannot do <code>await anArray.forEach(async (...) =&gt; {...})</code>. The return is not a promise. You can do <code>for (...) { await (...) =&gt; { ... } }</code>, but ESLint will complain about <code>no-await-in-loop</code> (because you shouldn’t be waiting for something in a loop in most cases), and there are cases where you will just have to ignore it (in my case, a repo is a single resource and cannot be mutated asynchronously).</li>
<li>You should really be <code>const</code>ing everything, including objects you plan to mutate. The only point of <code>let</code> is to let you reassign something else entirely to that reference.</li>
<li>You can put <code>const</code> in a loop and not have it complain about redefining the same name, because <code>const</code> is block scope, and every time that loop is run, it is effectively a different block.</li>
</ol>
<p><strong>Edit</strong>: haha whoops <a href="https://github.com/erikbern/git-of-theseus" target="_blank" rel="external">git of theseus</a> exists and does it better.</p>
<p><img src="/image/stack_plot_2.png" alt=""></p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="">JavaScript</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-ES6-rest-spread-what-to-expect" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/ES6-rest-spread-what-to-expect/" class="article-date">
  <time datetime="2019-04-25T14:14:27.000Z" itemprop="datePublished">2019-04-25</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/ES6-rest-spread-what-to-expect/">ES6 rest/spread: what to expect</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<h2 id="Rest"><a href="#Rest" class="headerlink" title="Rest"></a>Rest</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Rest_syntax_(parameters)" target="_blank" rel="external">“Rest”</a> is declaring a function that accepts <em>the rest</em> of the arguments as an array, like so:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span><span class="params">(a, b, <span class="rest_arg">...manyMoreArgs</span>)</span> </span>&#123;</span><br><span class="line">  console.log(<span class="string">"a"</span>, a);</span><br><span class="line">  console.log(<span class="string">"b"</span>, b);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// unlike `arguments`, this is an actual Array</span></span><br><span class="line">  console.log(<span class="string">"manyMoreArgs"</span>, manyMoreArgs);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Spread"><a href="#Spread" class="headerlink" title="Spread"></a>Spread</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_function_calls" target="_blank" rel="external">Spreading</a> can be done anywhere, and multiple times, in a function call:</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function myFunction(v, w, x, y, z) &#123; &#125;</span><br><span class="line">var args = [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line">myFunction(<span class="number">-1</span>, ...args, <span class="number">2</span>, ...[<span class="number">3</span>]);</span><br></pre></td></tr></table></figure>
<p>It can also be done in arrays and objects:</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr1 = [...arr2, ...arr1];  <span class="comment">// Making a new array from two arrays</span></span><br><span class="line">obj1 = &#123;...obj1, ...obj2&#125;;  <span class="comment">// Making a new object from two objects</span></span><br></pre></td></tr></table></figure>
<p>It is normally not possible to spread an object into an array:</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = <span class="comment">&#123;a: 1, b: 2&#125;</span>;</span><br><span class="line"><span class="keyword">var</span> obj2 = <span class="comment">&#123;b: 3, c: 4&#125;</span>;</span><br><span class="line"><span class="keyword">var</span> mergedObj = [ ...obj1, ...obj2 ];  <span class="comment">// TypeError: obj1 is not iterable</span></span><br></pre></td></tr></table></figure>
<p>Accidentally spreading arrays into objects <em>is</em> possible however, resulting in strange behaviour, and should be avoided:</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">var</span> obj1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="built_in">var</span> obj2 = [];</span><br><span class="line"><span class="built_in">var</span> mergedObj = &#123; ...obj1, ...obj2 &#125;;</span><br><span class="line">console.<span class="built_in">log</span>(mergedObj);  // &#123;<span class="string">"0"</span>:<span class="number">1</span>,<span class="string">"1"</span>:<span class="number">2</span>&#125;, this I can understand</span><br><span class="line"></span><br><span class="line"><span class="built_in">var</span> obj1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="built_in">var</span> obj2 = [<span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">var</span> mergedObj = &#123; ...obj1, ...obj2 &#125;;</span><br><span class="line">console.<span class="built_in">log</span>(mergedObj);  // &#123;<span class="string">"0"</span>:<span class="number">2</span>,<span class="string">"1"</span>:<span class="number">3</span>&#125;, notice it isn't &#123;<span class="number">0</span>:<span class="number">1</span>, <span class="number">1</span>:<span class="number">2</span>, <span class="number">2</span>:<span class="number">3</span>&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Array-destructuring"><a href="#Array-destructuring" class="headerlink" title="Array destructuring"></a>Array destructuring</h2><p>You can <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters#Destructuring_rest_parameters" target="_blank" rel="external">destructure</a> an array right from the function declaration, basically declaring the variables:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">(<span class="rest_arg">...[a</span>, b, c])</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)  <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<h2 id="Object-destructuring"><a href="#Object-destructuring" class="headerlink" title="Object destructuring"></a>Object destructuring</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank" rel="external">Object destructuring</a> is basically syntactic sugar for:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The two are more or less the same</span></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">data</span> = (&#123;<span class="keyword">data</span>: <span class="number">5</span>&#125;).<span class="keyword">data</span> || defaultValue;</span><br><span class="line"><span class="keyword">var</span> &#123; <span class="keyword">data</span> = defaultValue &#125; = &#123;<span class="keyword">data</span>: <span class="number">5</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>Except this new case, which assigns and renames the variable at the same time:</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="comment">&#123;a: aa = 10, b: bb = 5&#125;</span> = <span class="comment">&#123;a: 3&#125;</span>;</span><br><span class="line"><span class="comment">// a and b are not variables (ReferenceError)</span></span><br><span class="line">console.log(aa); <span class="comment">// 3</span></span><br><span class="line">console.log(bb); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="">JavaScript</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-How-to-install-nodejs" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/How-to-install-nodejs/" class="article-date">
  <time datetime="2019-02-28T17:31:46.000Z" itemprop="datePublished">2019-02-28</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/How-to-install-nodejs/">How to install Node.js</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>tl;dr: don’t install nodejs.</p>
<p>Here at Maymay Research Institute (MRI), we make things with JavaScript.</p>
<p>To run JavaScript outside a browser, chances are you will need something called <a href="https://nodejs.org/en/" target="_blank" rel="external">Node.js</a>.</p>
<p><a href="https://github.com/nodejs/node/pulls?q=is%3Apr+is%3Aclosed" target="_blank" rel="external">A change is made to Node.js every other day</a>, so as are the binaries. We joke that node and npm should simply be named after the unix timestamp.</p>
<pre><code>A: we should just version js packages by unix timestamp, because 
   there&apos;s a new one every other second
B: That would solve it.
A: that would actually work
A: `npm@1550873940.0.0  // because every change is breaking anyway, this is semver-compliant`
B: Oh my
</code></pre><p>While that was largely a joke, it is not far from the truth, and having so many versions of node and npm can cause problems on developer machines, namely this code review comment (paraphrased):</p>
<blockquote>
<p>There are packages that are built for each particular node distribution (node-sass for example), so when you and I (run) “yarn or npm install” (it will install) different binaries of the same package. … This leads to “On my computer (it) works” problems. (We) should manually enforce the version, and (upgrade) every once in a while if a new LTS version is available (…).</p>
</blockquote>
<p>The comment highlights the importance for all developers to run the exact same version of node and npm for a project. But how do we achieve that?</p>
<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><p>You can’t just throw everything at Docker, <del>man</del>person.</p>
<h2 id="nvm-use-specific-version"><a href="#nvm-use-specific-version" class="headerlink" title="nvm use ${specific version}"></a><code>nvm use ${specific version}</code></h2><p>The team can pin node to a specific version (and therefore the version of npm, as well). They do so by running</p>
<pre><code>nvm use v10.15.2
</code></pre><p>Normally I would call it a day, since <code>v10</code> would have been good enough for me, but since “This leads to “On my computer (it) works” problems”, we are going to have to pin it down.</p>
<h2 id="Where-do-these-node-versions-come-from"><a href="#Where-do-these-node-versions-come-from" class="headerlink" title="Where do these node versions come from?"></a>Where do these node versions come from?</h2><p>Nodejs has <a href="https://github.com/nodejs/node" target="_blank" rel="external">its own repository on GitHub</a>, but they don’t provide binaries there. Instead, according to the command that <code>nvm</code> runs:</p>
<pre><code>bash -c &quot;NVM_DIR=$HOME/.nvm &amp;&amp; source $NVM_DIR/nvm.sh  &amp;&amp; NVM_NODEJS_ORG_MIRROR=https://nodejs.org/dist nvm install vx.y.z &amp;&amp; nvm use vx.y.z &amp;&amp; export &gt; env.txt&quot;
</code></pre><p>The binaries come from <a href="https://nodejs.org/dist/" target="_blank" rel="external">https://nodejs.org/dist/</a>. In particular, these are the directories we are concerned about:</p>
<pre><code>https://nodejs.org/dist/v10.15.1/
https://nodejs.org/dist/v10.15.2/
https://nodejs.org/dist/v10.15.3/
</code></pre><p>And they all have SHA 256 checksums for everything you download (assuming you verify them).</p>
<pre><code>https://nodejs.org/dist/v10.15.1/SHASUMS256.txt
https://nodejs.org/dist/v10.15.2/SHASUMS256.txt
https://nodejs.org/dist/v10.15.3/SHASUMS256.txt
</code></pre><p>That’s all well and good. Having SHA 256 allows team members to verify that we downloaded <em>the same version of node</em> from the repository. But wait… </p>
<h2 id="How-do-you-know-their-v10-15-2-is-GitHub’s-v10-15-2"><a href="#How-do-you-know-their-v10-15-2-is-GitHub’s-v10-15-2" class="headerlink" title="How do you know their v10.15.2 is GitHub’s v10.15.2?"></a>How do you know their v10.15.2 is GitHub’s v10.15.2?</h2><p>Surely anyone who hacked <a href="https://nodejs.org/" target="_blank" rel="external">https://nodejs.org/</a> could have replaced <code>https://nodejs.org/dist/v10.15.2/SHASUMS256.txt</code>, <code>https://nodejs.org/dist/v10.15.2/SHASUMS256.txt.asc</code>, <code>https://nodejs.org/dist/v10.15.2/SHASUMS256.txt.sig</code>, and <code>https://nodejs.org/dist/v10.15.2/node-v10.15.2-linux-arm64.tar.gz</code> so you download a hijacked binary. Even if you try to <a href="https://serverfault.com/questions/896228/how-to-verify-a-file-using-an-asc-signature-file" target="_blank" rel="external">verify the GPG signature</a> with <a href="https://github.com/nodejs/node/#verifying-binaries" target="_blank" rel="external">the key displayed in the repository</a>, anyone working for nodejs could have compiled the same version twice. If that happens, you and I may be running different <code>node</code> binaries that both declare themselves to be <code>v10.15.2</code>.</p>
<h2 id="How-do-you-know-you-are-running-GitHub’s-v10-15-2"><a href="#How-do-you-know-you-are-running-GitHub’s-v10-15-2" class="headerlink" title="How do you know you are running GitHub’s v10.15.2?"></a>How do you know <em>you</em> are running GitHub’s v10.15.2?</h2><p>You download from <a href="https://nodejs.org/dist/v10.15.2/" target="_blank" rel="external">https://nodejs.org/dist/v10.15.2/</a>; it does not mean what you download corresponds to <a href="https://github.com/nodejs/node/tree/v10.15.2" target="_blank" rel="external">https://github.com/nodejs/node/tree/v10.15.2</a>. The reasoning is twofold. First, anyone who provides node binaries can compile any code with the version changed to v10.15.2. So you have to trust them. Second, <a href="https://github.com/nodejs/node/commit/7e530ce306792f060f2316345465af72b8ff5f0c" target="_blank" rel="external">the commit that made v10.15.2 was not signed</a>, whereas the ones for <a href="https://github.com/nodejs/node/commit/297c9d1aa9dd97692a33e9c1e863ea9d053c6d58" target="_blank" rel="external">v10.15.1</a> and <a href="https://github.com/nodejs/node/commit/1a96d83a223ff9f05f7d942fb84440d323f7b596" target="_blank" rel="external">v10.15.3</a> are signed with valid GPG keys. This means, no matter how small the probability is, <code>v10.15.2</code> can be moved without anyone knowing, and projects that use version <code>v10.15.2</code> can potentially get a binary that is different eventually.</p>
<h2 id="What-if-everyone-compiles-their-own-v10-15-3-then"><a href="#What-if-everyone-compiles-their-own-v10-15-3-then" class="headerlink" title="What if everyone compiles their own v10.15.3, then?"></a>What if everyone compiles their own <code>v10.15.3</code>, then?</h2><p>(<code>v10.15.3</code> is a signed commit.) Well that’s not good enough either. <a href="https://github.com/BethGriggs" target="_blank" rel="external">BethGriggs</a> can move <a href="https://github.com/nodejs/node/tree/v10.15.3" target="_blank" rel="external"><code>v10.15.3</code></a> and sign the commit again, resulting in a signed <code>v10.15.3</code> tag that points to a different commit.</p>
<p>But if you pin your node version to <a href="https://github.com/nodejs/node/commit/1a96d83a223ff9f05f7d942fb84440d323f7b596" target="_blank" rel="external">a signed commit hash</a> (1a96d83a223ff9f05f7d942fb84440d323f7b596), clone it, and then <em>compile it yourself</em>, you can be sure everyone on your team gets the same <code>v10.15.3</code> binary, then?</p>
<p>Guess what! The answer is no! <a href="https://github.com/nodejs/node/blob/master/BUILDING.md#prerequisites" target="_blank" rel="external">You can mess with compiler flags!</a></p>
<h2 id="What-works"><a href="#What-works" class="headerlink" title="What works?"></a>What works?</h2><p>One person on the team should be responsible for compiling node and npm binaries. Then that person signs these binaries and publishes both the binaries and signatures to an internal repository.</p>
<p>Afterwards, all other team members install nodejs using the command</p>
<pre><code>bash -c &quot;NVM_DIR=$HOME/.nvm &amp;&amp; source $NVM_DIR/nvm.sh  &amp;&amp; NVM_NODEJS_ORG_MIRROR=(your team repository) nvm install vx.y.z &amp;&amp; nvm use vx.y.z &amp;&amp; export &gt; env.txt&quot;
</code></pre><p>When you and your team members all install signed binaries from a known source, you can all be sure you have the same binary.</p>
<p>It doesn’t mean the binaries are trustworthy, though. Your team member could have spiked the source with special source before compiling it. That requires <em>you</em> to compile the binary yourself, and <a href="https://wiki.mozilla.org/Security/Binary_Transparency" target="_blank" rel="external">verify that the build is reproducible</a> on your end. Nodejs builds are <a href="https://github.com/nodejs/build/issues/589" target="_blank" rel="external">not reproducible</a>, as far as I know.</p>
<p>In conclusion: <strong>nothing works</strong>. There is always something wrong. Your teammates don’t trust you. Become a farmer. Live off the grid. Lawyer up.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="">JavaScript</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
    <article id="post-Ionic-2-seems-nice" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2016/Ionic-2-seems-nice/" class="article-date">
  <time datetime="2016-08-05T21:10:49.000Z" itemprop="datePublished">2016-08-05</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2016/Ionic-2-seems-nice/">Ionic 2 seems nice</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>aka: <a href="https://medium.com/@wob/the-sad-state-of-web-development-1603a861d29f#.q319fwrt8" target="_blank" rel="external">The sad state of web development</a></p>
<p>As part of my investigation to get Google Maps working with an unexploitable API key (hint: <a href="http://stackoverflow.com/questions/38058711/free-google-maps-api-for-hybrid-applications" target="_blank" rel="external">it’s not that easy</a>), I set out my journey to <a href="https://github.com/mapsplugin/cordova-plugin-googlemaps" target="_blank" rel="external">plugins</a> and <a href="http://ionicframework.com/docs/v2/native/google-maps/" target="_blank" rel="external">frameworks</a>, eventually ending up on <a href="http://ionicframework.com/docs/v2/getting-started/installation/" target="_blank" rel="external">the ionic2 installation page</a>, where the project looks mature enough to use.</p>
<p>So, I set up my spanking new ionic project using their own code:</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install </span>-g ionic@<span class="keyword">beta</span></span><br><span class="line"><span class="keyword">ionic </span>start foo --v2  <span class="comment"># You will error here</span></span><br><span class="line">cd foo</span><br><span class="line">ionic serve</span><br><span class="line">ionic platform <span class="keyword">add </span><span class="keyword">android</span></span><br><span class="line"><span class="keyword">ionic </span><span class="keyword">build </span><span class="keyword">android </span>--release</span><br><span class="line">adb <span class="keyword">install </span>-r thing.apk</span><br></pre></td></tr></table></figure>
<p>The app took, oh, I don’t know, <strong>9 seconds</strong> to start. (Later diagnosis reveals Cordova taking 3 seconds alone, and all <a href="http://stackoverflow.com/questions/28090053/how-to-remove-crosswalk-from-a-cordova-project" target="_blank" rel="external">Crosswalk</a> did for Android 5+ was add bulk to the apk, which is expected behaviour.)<br>The app used 150MB of my Nexus 4’s memory.<br>The app contained a 3-Megabyte <code>app.bundle.js</code>, none of which was readable code.</p>
<p>Seems like a nice new platform to get my hands dirty.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="">JavaScript</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">




  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="page/2/">2</a><a class="page-number" href="page/3/">3</a><a class="extend next" rel="next" href="page/2/">Next &raquo;</a>
    </nav>
  

    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:blog.ohai.ca">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/">Brian&#39;s Blog</a>
	</h1>
	<span class="copyright">
		&copy; 2021 Brian<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<script src="../../js/script.js"></script>
  </div>

  <script type="text/javascript">
    //<![CDATA[
    var sc_project=4446854;
    var sc_invisible=0;
    var sc_security="74785e80";
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write(
      "<sc"+"ript type='text/javascript' src='" +
      scJsHost +
      "statcounter.com/counter/counter_xhtml.js'></" +
      "script>"
    );
    //]]>
  </script>
  <noscript>
    <img style="display: none"
         src="http://c.statcounter.com/4446854/0/74785e80/0/" />
  </noscript><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>

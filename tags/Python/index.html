<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Tag: Python | Brian&#39;s Blog</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="Meow">
<meta property="og:type" content="website">
<meta property="og:title" content="Brian's Blog">
<meta property="og:url" content="https://blog.ohai.ca/tags/Python/index.html">
<meta property="og:site_name" content="Brian's Blog">
<meta property="og:description" content="Meow">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Brian's Blog">
<meta name="twitter:description" content="Meow">
  
    <link rel="alternative" href="/atom.xml" title="Brian&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="../../css/style.css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/">Brian&#39;s Blog</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			<li><a href="/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.ohai.ca"></form>
	</div>
</header>
    <div id="main">
      
  
    <article id="post-Writing-a-flake8-plugin" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/Writing-a-flake8-plugin/" class="article-date">
  <time datetime="2019-04-11T15:45:33.000Z" itemprop="datePublished">2019-04-11</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/Writing-a-flake8-plugin/">Writing a Flake8 Plugin</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>There appears to be no good way to run a flake8 plugin that is not its own package. For example, if you have a project and you want to include a custom flake8 inside it, you will have to <em>install your project</em> to <a href="https://flake8.pycqa.org/en/latest/plugin-development/registering-plugins.html" target="_blank" rel="external">register</a> it:</p>
<pre><code># Me literally installing myself so flake8 can find it 
from setuptools import setup


setup(
    name=&apos;my_project&apos;,
    author=&apos;Me&apos;,
    license=&apos;Proprietary&apos;,
    classifiers=[
        &apos;License :: Other/Proprietary License&apos;,
    ],
    packages=[
        &apos;my_static_checker&apos;,
    ],
    entry_points={
        &apos;flake8.extension&apos;: [
            &apos;R2 = my_static_checker.main:Checker&apos;,
        ],
    },
)
</code></pre><p>As for what <code>Checker</code> checking, it is largely up to you, as long as the class contains a <code>run</code> method that yields four things:</p>
<pre><code>import ast

class Checker:
    name = &apos;my_static_checker&apos;
    version = &apos;0.1&apos;

    def __init__(self, tree, filename):
        self.tree = tree
        self.filename = filename

    def run(self):
        # Use whatever tool you like to find these, but ast is imported
        errors = (line, column, message)
        for line, column, message in errors:
            yield line, column, message, type(self)
</code></pre>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="">Python</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-Python-terminal-recipes" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2019/Python-terminal-recipes/" class="article-date">
  <time datetime="2019-02-08T21:03:48.000Z" itemprop="datePublished">2019-02-08</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2019/Python-terminal-recipes/">Python Terminal Recipes</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>A lot of these can be replaced by a library like pandas, but sometimes you simply don’t have access to pandas…</p>
<h2 id="Turn-list-of-lists-into-a-copy-paste-CSV-file"><a href="#Turn-list-of-lists-into-a-copy-paste-CSV-file" class="headerlink" title="Turn list of lists into a copy-paste CSV file"></a>Turn list of lists into a copy-paste CSV file</h2><p>Do people ask you to “export” things from the database a lot, but never the same thing more than once?<br>Turn your Django or SQLAlchemy querysets, however complicated or mixed with logic, into a “CSV file” without installing additional libraries.</p>
<p>Note: if you give this function a list of dicts (which I did not say it handles), the columns will come out in whichever order it feels like.</p>
<pre><code>import io, csv
from __future__ import print_function

def csvise(queryset):
    result = io.StringIO()
    if not queryset:
        return &apos;&apos;
    first_obj = queryset[0]
    if isinstance(first_obj, list):
        writer = csv.writer(result)
    elif isinstance(first_obj, dict):
        writer = csv.DictWriter(
            result,
            fieldnames=queryset[0].keys())
        writer.writeheader()
    else:
        raise TypeError(&apos;Things in queryset must be list or dict!&apos;)
    for row in queryset:
        writer.writerow(row)
    return result.getvalue()
</code></pre><h2 id="Turn-a-CSV-file-string-into-a-list-of-dicts"><a href="#Turn-a-CSV-file-string-into-a-list-of-dicts" class="headerlink" title="Turn a CSV file string into a list of dicts"></a>Turn a CSV file string into a list of dicts</h2><p>Sometimes you want to get objects out of a string too.</p>
<pre><code>import io, csv

def dictise(csv_string):
    csv_string = csv_string.strip()
    reader_list = csv.DictReader(io.StringIO(csv_string))
    return [dict(row) for row in reader_list]
</code></pre><h2 id="Turn-an-HTML-table-into-an-array-of-arrays"><a href="#Turn-an-HTML-table-into-an-array-of-arrays" class="headerlink" title="Turn an HTML table into an array of arrays"></a>Turn an HTML table into an array of arrays</h2><p>No recipes yet, <a href="https://stackoverflow.com/questions/2870667/how-to-convert-an-html-table-to-an-array-in-python" target="_blank" rel="external">without the use of third-party libraries.</a> But for some reason you have Pandas:</p>
<pre><code>import pandas as pd

pd.read_html(content)  # That&apos;s it
</code></pre><h2 id="Sort-a-file-any-way-you-want"><a href="#Sort-a-file-any-way-you-want" class="headerlink" title="Sort a file any way you want"></a>Sort a file any way you want</h2><pre><code>def sort_file_lines(file, key=lambda x: x):
    with open(file, &quot;r&quot;) as f:
        lines = f.readlines()
        lines.sort(key=key)
    for line in lines:
        print(line, end=&apos;&apos;)
</code></pre><p>You can then use this function with a sort function, like so: (this is a function that extracts test times from console output.)</p>
<pre><code>import re

def test_speed(line):
    reg = re.search(r&apos;OK \((\d+\.\d+)s\)&apos;, line)
    if not reg:
        return 0
    runtime_str = reg.group(1)
    return float(runtime_str)

sort_file_lines(&apos;blablabla.txt&apos;, test_speed)
</code></pre><h2 id="Get-a-rough-count-on-a-django-postgres-table"><a href="#Get-a-rough-count-on-a-django-postgres-table" class="headerlink" title="Get a rough count on a django-postgres table"></a>Get a rough count on a django-postgres table</h2><pre><code>from django.db import connection

def rough_count(table_name):
    with connection.cursor() as cursor:
        cursor.execute(&quot;SELECT reltuples FROM pg_class WHERE relname = %s&quot;,
                        [table_name])
        record = cursor.fetchone()
    if record:
        return int(record[0])
    return 0
</code></pre><h2 id="Get-someone’s-token"><a href="#Get-someone’s-token" class="headerlink" title="Get someone’s token"></a>Get someone’s token</h2><pre><code>def get_token(email):
    return Token.objects.filter(user__email=email).first().key
</code></pre>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="">Python</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-Setting-up-mypy" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2018/Setting-up-mypy/" class="article-date">
  <time datetime="2018-09-21T15:25:56.000Z" itemprop="datePublished">2018-09-21</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2018/Setting-up-mypy/">Setting Up Mypy</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p><a href="http://mypy-lang.org/" target="_blank" rel="external">mypy</a> is a static type checker for python.</p>
<p>Installing mypy is simple enough:</p>
<pre><code>pip install mypy
</code></pre><p>But running it, hmm…</p>
<pre><code>$ mypy .
manage.py:11: error: No library stub file for module &apos;django.core.management&apos;
foo/wsgi.py:17: error: No library stub file for module &apos;django.core.wsgi&apos;
foo/urls.py:5: error: Cannot find module named &apos;djangojs.views&apos;
foo/urls.py:5: error: Cannot find module named &apos;djangojs&apos;
foo/urls.py:6: error: No library stub file for module &apos;django.conf&apos;
foo/urls.py:7: error: No library stub file for module &apos;django.conf.urls&apos;
foo/urls.py:8: error: No library stub file for module &apos;django.contrib&apos;
foo/urls.py:9: error: No library stub file for module &apos;django.views.generic.foo&apos;
...
(Goes on for a hundred thousand lines)
</code></pre><p>So I did what <a href="https://github.com/python/mypy/issues/3905#issuecomment-326539680" target="_blank" rel="external">everyone else did</a> and added <code>--ignore-missing-imports</code> to the command line:</p>
<pre><code>$ mypy . --ignore-missing-imports
foo/admin.py:187: error: &quot;Callable[[Any, Any, Any], Any]&quot; has no attribute &quot;short_description&quot;
foo/admin.py:199: error: &quot;Callable[[Any, Any, Any], Any]&quot; has no attribute &quot;short_description&quot;
foo/admin.py:255: error: &quot;Callable[[Any, Any], Any]&quot; has no attribute &quot;short_description&quot;
foo/admin.py:256: error: &quot;Callable[[Any, Any], Any]&quot; has no attribute &quot;admin_order_field&quot;
foo/admin.py:270: error: &quot;Callable[[Any, Any], Any]&quot; has no attribute &quot;short_description&quot;
foo/admin.py:271: error: &quot;Callable[[Any, Any], Any]&quot; has no attribute &quot;admin_order_field&quot;
foo/admin.py:285: error: &quot;Callable[[Any, Any], Any]&quot; has no attribute &quot;short_description&quot;
foo/admin.py:286: error: &quot;Callable[[Any, Any], Any]&quot; has no attribute &quot;allow_tags&quot;
</code></pre><p>Still thousands of errors!<br>It turns out <a href="https://github.com/python/mypy/issues/708" target="_blank" rel="external">every Django app that writes custom admins is affected by this check</a>. I guess I will need to <a href="https://www.python.org/dev/peps/pep-0484/#type-comments" target="_blank" rel="external">‘# type: ignore’</a> them all or try some stub, like <a href="https://github.com/machinalis/mypy-django" target="_blank" rel="external">mypy-django</a>.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../QA/">QA</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-How-to-reverse-a-list" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2017/How-to-reverse-a-list/" class="article-date">
  <time datetime="2017-04-17T15:17:34.000Z" itemprop="datePublished">2017-04-17</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2017/How-to-reverse-a-list/">How to Reverse a List</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<blockquote>
<p>There should be one– and preferably only one –obvious way to do it</p>
</blockquote>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; sorted([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], reverse=True)</span><br><span class="line">[<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; sorted([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]).reverse()  <span class="comment"># In place</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; reversed(sorted([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]))</span><br><span class="line">&lt;listreverseiterator object at <span class="number">0x7f5c5897b690</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; sorted([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])[<span class="symbol">:</span><span class="symbol">:-</span><span class="number">1</span>]</span><br><span class="line">[<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; (lambda <span class="symbol">a:</span> a.sort() or a.reverse() or a)([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">[<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>Dammit python.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="">Python</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-Resetting-django-migrations" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2017/Resetting-django-migrations/" class="article-date">
  <time datetime="2017-03-23T02:16:10.000Z" itemprop="datePublished">2017-03-22</time>
</a>
		</span>
		<span class="meta-elements author">Brian</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/2017/Resetting-django-migrations/">Resetting Django Migrations</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>This is specifically meant for large web projects. For smaller, ordinary Django projects, see <code>manage.py squashmigrations</code>. For SQLAlchemy projects, do your own research.</p>
<h1 id="Mechanism"><a href="#Mechanism" class="headerlink" title="Mechanism"></a>Mechanism</h1><p>Django 1.7+ stores migration information in a django_migrations table. The contents look something like</p>
<pre><code>web=# select * from django_migrations;
id   |       app       |                      name                      |            applied            
-----+-----------------+------------------------------------------------+-------------------------------
12   | account         | 0002_email_max_length                          | 2017-03-21 14:16:17.046209-04
14   | admin           | 0002_logentry_remove_auto_add                  | 2017-03-21 14:16:17.098368-04
4    | auth            | 0002_alter_permission_name_max_length          | 2017-03-21 14:16:16.82983-04
788  | auth            | 0002_auto_...                                  | 2017-03-21 15:22:45.40872-04
573  | auth            | 0002_...                                       | 2017-03-21 15:06:12.735458-04
31   | authtoken       | 0002_auto_...                                  | 2017-03-21 14:16:19.556177-04
</code></pre><p>Running <code>./manage.py</code> migrate inserts new entries into the table. Conversely, running ./manage.py migrate app {latest_version - n} removes entries from the table.</p>
<h1 id="manage-py-squashmigrations"><a href="#manage-py-squashmigrations" class="headerlink" title="./manage.py squashmigrations"></a>./manage.py squashmigrations</h1><p>This command takes in a range of migrations from a specific app, combines the operations inside these migrations, and outputs one large migration with a replaces = [migration1, migration2, …] inside. This allows the list of migrations to be replaced by a larger one. Unless operations are cancelled out in migrations 1 to n, squashing migrations does not necessarily speed up the process.</p>
<p>From a series of experiments performed on a large web project, since squashmigrations operates on one app at a time, it does not appear to be effective on projects with many cross-app foreign keys, and unsquashable data migrations in between.</p>
<h1 id="Manually-clearing-migration-history"><a href="#Manually-clearing-migration-history" class="headerlink" title="Manually clearing migration history"></a>Manually clearing migration history</h1><p>There are many questions online about resetting migrations, showing perhaps a need for large projects to reset migrations eventually.</p>
<p>Their procedures are usually as follows:</p>
<ol>
<li>Delete all existing migrations</li>
<li>Fake migrations backward</li>
<li>Create new migrations</li>
<li>Fake migrations forward</li>
</ol>
<h2 id="Make-sure-current-database-state-is-consistent"><a href="#Make-sure-current-database-state-is-consistent" class="headerlink" title="Make sure current database state is consistent"></a>Make sure current database state is consistent</h2><pre><code>./manage.py showmigrations
</code></pre><p>The above command should display a list with all migrations applied.</p>
<h2 id="Fake-migrations-backward"><a href="#Fake-migrations-backward" class="headerlink" title="Fake migrations backward*"></a>Fake migrations backward*</h2><pre><code>./manage.py migrate --fake APP_NAME1 zero
./manage.py migrate --fake APP_NAME3 zero
...
</code></pre><p>This fools Django into believing that the database is fresh. Double check all project apps have no migrations applied, and all third-party apps have all migrations applied, by running ./manage.py showmigrations again.</p>
<p>*This step might be completely necessary, but it should be done to be safe. It is also possible to replace these commands with a more intrusive <code>DELETE FROM django_migrations WHERE app IN (&#39;APP_NAME1&#39;, &#39;APP_NAME2&#39;, ...);</code></p>
<h2 id="Delete-all-existing-migrations"><a href="#Delete-all-existing-migrations" class="headerlink" title="Delete all existing migrations"></a>Delete all existing migrations</h2><p>On a developer machine, delete all migrations in your “migrations” folders that are not <code>__init__.py</code>.</p>
<pre><code>find . -path &quot;*/migrations/*.py&quot; -not -name &quot;__init__.py&quot; -delete
</code></pre><h2 id="Create-new-migrations"><a href="#Create-new-migrations" class="headerlink" title="Create new migrations"></a>Create new migrations</h2><p>Recreate all “effectively missing” migrations by running <code>./manage.py makemigrations</code>.</p>
<p>If this step fails, the schema is too complex to be created in the first place. Consult an elder.</p>
<p>Ensure the new migrations are sane.</p>
<h2 id="Create-data-migrations"><a href="#Create-data-migrations" class="headerlink" title="Create data migrations"></a>Create data migrations</h2><p>Manually (and intelligently), port the data migrations in old migrations to new empty migrations on top of the new auto migrations. Some can be simplified; some are no longer necessary.</p>
<h2 id="Test-your-changes"><a href="#Test-your-changes" class="headerlink" title="Test your changes"></a>Test your changes</h2><p>You now have a new set of auto migrations generated from the schema, and a ported list of data migrations that will be run after the schema is created.</p>
<p>Recreate your database, running all new migrations. The website should run as expected. Tests should pass as expected.</p>
<h1 id="Applying-changes-on-production-other-machines"><a href="#Applying-changes-on-production-other-machines" class="headerlink" title="Applying changes on production / other machines"></a>Applying changes on production / other machines</h1><p>All existing instances of the project must have the latest migrations from develop applied.</p>
<p>Their procedures are usually as follows:</p>
<ol>
<li>Stay on old develop / master</li>
<li>Fake migrations backward</li>
<li>Switch to new develop / master</li>
<li>Fake migrations forward</li>
</ol>
<p>Faking migrations backward while on the old develop / master removes all records of them being applied.</p>
<p>Faking migrations forward while on the new develop / master pretends the new migrations are equivalent to the old ones.</p>
<p>After the operation, the Django project will not be aware of the old migrations. The transition is complete.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="">Python</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="page/2/">2</a><a class="page-number" href="page/3/">3</a><a class="extend next" rel="next" href="page/2/">Next &raquo;</a>
    </nav>
  

    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:blog.ohai.ca">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/">Brian&#39;s Blog</a>
	</h1>
	<span class="copyright">
		&copy; 2019 Brian<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<script src="../../js/script.js"></script>
  </div>

  <script type="text/javascript">
    //<![CDATA[
    var sc_project=4446854;
    var sc_invisible=0;
    var sc_security="74785e80";
    var scJsHost = (("https:" == document.location.protocol) ?
    "https://secure." : "http://www.");
    document.write(
      "<sc"+"ript type='text/javascript' src='" +
      scJsHost +
      "statcounter.com/counter/counter_xhtml.js'></" +
      "script>"
    );
    //]]>
  </script>
  <noscript>
    <img style="display: none"
         src="http://c.statcounter.com/4446854/0/74785e80/0/" />
  </noscript><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>
